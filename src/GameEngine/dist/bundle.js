/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ var __webpack_modules__ = ({

/***/ "./src/Components/Animation.ts":
/*!*************************************!*\
  !*** ./src/Components/Animation.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnimationC: () => (/* binding */ AnimationC)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helpers/Animation */ \"./src/Helpers/Animation.ts\");\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Renderers_BarRenderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Renderers/BarRenderer */ \"./src/Components/Renderers/BarRenderer.ts\");\n/* harmony import */ var _StandaloneComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StandaloneComponent */ \"./src/Components/StandaloneComponent.ts\");\n\n\n\n\nclass AnimationC extends _StandaloneComponent__WEBPACK_IMPORTED_MODULE_3__.StandaloneComponent {\n    shrinkAnimation = new _Helpers_Animation__WEBPACK_IMPORTED_MODULE_0__.GameAnimation();\n    zoomAnimation = new _Helpers_Animation__WEBPACK_IMPORTED_MODULE_0__.GameAnimation();\n    defaultZoom = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__.Vector(1, 1);\n    constructor() {\n        super();\n        this.shrinkAnimation = new _Helpers_Animation__WEBPACK_IMPORTED_MODULE_0__.GameAnimation((fill) => this.getTransform().scale = this.defaultZoom.times(1 - fill), () => this.getComponent(_Renderers_BarRenderer__WEBPACK_IMPORTED_MODULE_2__.BarRendererC)?.enable(false), () => this.getGameObject().destroy());\n        this.zoomAnimation = new _Helpers_Animation__WEBPACK_IMPORTED_MODULE_0__.GameAnimation((fill) => this.getTransform().scale = this.defaultZoom.times(1 + Math.sin(Math.PI * fill) / 5), () => this.defaultZoom = this.getTransform().scale.clone(), () => this.getTransform().scale = this.defaultZoom);\n    }\n    update(delta) {\n        this.shrinkAnimation.update(delta);\n        this.zoomAnimation.update(delta);\n    }\n    startZoom() {\n        this.zoomAnimation.start();\n    }\n    startShrink() {\n        this.shrinkAnimation.start();\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Animation.ts?");

/***/ }),

/***/ "./src/Components/Bullet.ts":
/*!**********************************!*\
  !*** ./src/Components/Bullet.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BulletC: () => (/* binding */ BulletC)\n/* harmony export */ });\n/* harmony import */ var _Core_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/Component */ \"./src/Core/Component.ts\");\n/* harmony import */ var _Core_GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Core/GameObject */ \"./src/Core/GameObject.ts\");\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Animation */ \"./src/Components/Animation.ts\");\n/* harmony import */ var _Collider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Collider */ \"./src/Components/Collider.ts\");\n/* harmony import */ var _Destroyer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Destroyer */ \"./src/Components/Destroyer.ts\");\n/* harmony import */ var _Health__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Health */ \"./src/Components/Health.ts\");\n/* harmony import */ var _Renderers_ColliderRenderer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Renderers/ColliderRenderer */ \"./src/Components/Renderers/ColliderRenderer.ts\");\n/* harmony import */ var _Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Renderers/PolygonRenderer */ \"./src/Components/Renderers/PolygonRenderer.ts\");\n/* harmony import */ var _RigidBody__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./RigidBody */ \"./src/Components/RigidBody.ts\");\n\n\n\n\n\n\n\n\n\n\nclass BulletC extends _Core_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    owner;\n    constructor(owner) {\n        super();\n        this.owner = new WeakRef(owner);\n    }\n    getOwner() {\n        return this.owner.deref();\n    }\n    static bulletGO(owner, hp = 30, radius = 0.65, lifeTime = 1, zindex = -1, ...components) {\n        let bulletGO = new _Core_GameObject__WEBPACK_IMPORTED_MODULE_1__.GameObject(new _RigidBody__WEBPACK_IMPORTED_MODULE_9__.RigidBodyC(0.05, 1.), new _Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_8__.PolygonRendererC(radius, 10, zindex, new _Helpers_Color__WEBPACK_IMPORTED_MODULE_2__.rgb(173, 87, 87)), new _Collider__WEBPACK_IMPORTED_MODULE_4__.ColliderC(radius, false), new _Renderers_ColliderRenderer__WEBPACK_IMPORTED_MODULE_7__.ColliderRendererC(), new _Health__WEBPACK_IMPORTED_MODULE_6__.HealthC(hp), new _Animation__WEBPACK_IMPORTED_MODULE_3__.AnimationC(), new _Destroyer__WEBPACK_IMPORTED_MODULE_5__.DestroyerC(lifeTime), new BulletC(owner), ...components);\n        bulletGO.getTransform().rotation = 0;\n        bulletGO.name = \"Bullet\";\n        return bulletGO;\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Bullet.ts?");

/***/ }),

/***/ "./src/Components/Canon.ts":
/*!*********************************!*\
  !*** ./src/Components/Canon.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CanonC: () => (/* binding */ CanonC)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helpers/Math */ \"./src/Helpers/Math.ts\");\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Bullet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Bullet */ \"./src/Components/Bullet.ts\");\n/* harmony import */ var _Collider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Collider */ \"./src/Components/Collider.ts\");\n/* harmony import */ var _Renderers_CanonRenderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Renderers/CanonRenderer */ \"./src/Components/Renderers/CanonRenderer.ts\");\n/* harmony import */ var _Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Renderers/PolygonRenderer */ \"./src/Components/Renderers/PolygonRenderer.ts\");\n/* harmony import */ var _RigidBody__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RigidBody */ \"./src/Components/RigidBody.ts\");\n/* harmony import */ var _StandaloneComponent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StandaloneComponent */ \"./src/Components/StandaloneComponent.ts\");\n\n\n\n\n\n\n\n\nclass CanonC extends _StandaloneComponent__WEBPACK_IMPORTED_MODULE_7__.StandaloneComponent {\n    damage;\n    cooldown = 0.15;\n    bulletSpeed = 40;\n    length;\n    width;\n    range = 250;\n    bulletSpraed = 0.1;\n    offset;\n    direction = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__.Vector.right();\n    targetDirection = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__.Vector.right();\n    lastShootTime = -10;\n    constructor(length = 4, width = 2, damage = 10) {\n        super();\n        this.damage = damage;\n        this.length = length;\n        this.width = width;\n        this.offset = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__.Vector(length - width / 2, 0);\n    }\n    getShotDelta() {\n        let totalTime = this.getGameWorld().getWorldTime();\n        return totalTime - this.lastShootTime;\n    }\n    update(delta) {\n        let angle = this.direction.toRad();\n        let targetAngle = this.targetDirection.toRad();\n        angle += 9 * delta * _Helpers_Math__WEBPACK_IMPORTED_MODULE_0__.GMath.deltaAngle(angle, targetAngle);\n        this.direction = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__.Vector.fromRad(angle);\n    }\n    getBulletLifetime() {\n        return this.range / this.bulletSpeed;\n    }\n    getGlobalOffset() {\n        return this.direction.toUnit().times(this.offset.x).add(this.direction.cross().times(this.offset.y));\n    }\n    shoot() {\n        if (!this.isEnabled || !this.getGameObject().enabled)\n            return;\n        if (this.getShotDelta() >= this.cooldown) {\n            const sW = 0.125;\n            const zindex = this.getComponent(_Renderers_CanonRenderer__WEBPACK_IMPORTED_MODULE_4__.CanonRendererC).zindex - 0.01;\n            let bullet = _Bullet__WEBPACK_IMPORTED_MODULE_2__.BulletC.bulletGO(this.getGameObject(), this.damage, this.width / 2 + _Helpers_Math__WEBPACK_IMPORTED_MODULE_0__.GMath.symRand(sW), this.getBulletLifetime(), zindex);\n            let rigidBody = bullet.getComponent(_RigidBody__WEBPACK_IMPORTED_MODULE_6__.RigidBodyC);\n            let collider = bullet.getComponent(_Collider__WEBPACK_IMPORTED_MODULE_3__.ColliderC);\n            let renderer = bullet.getComponent(_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_5__.PolygonRendererC);\n            renderer.color = this.getComponent(_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_5__.PolygonRendererC).color.clone();\n            collider.avoidObjectes.add(this.getGameObject());\n            bullet.getTransform().position = this.getTransform().position.add(this.getGlobalOffset());\n            let spread = this.direction.cross().times(Math.random() * 2 * this.bulletSpraed - this.bulletSpraed);\n            rigidBody.velocity = this.direction.toUnit().add(spread).times(this.bulletSpeed);\n            // rigidBody.velocity = rigidBody.velocity .add(this.getComponent(RigidBodyC).velocity.times(0.25)); \n            bullet.spawn(this.getGameWorld());\n            this.lastShootTime = this.getGameWorld().getWorldTime();\n        }\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Canon.ts?");

/***/ }),

/***/ "./src/Components/Collider.ts":
/*!************************************!*\
  !*** ./src/Components/Collider.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ColliderC: () => (/* binding */ ColliderC),\n/* harmony export */   CollisionEventArgs: () => (/* binding */ CollisionEventArgs)\n/* harmony export */ });\n/* harmony import */ var _Core_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/Component */ \"./src/Core/Component.ts\");\n/* harmony import */ var _Core_GameEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Core/GameEvent */ \"./src/Core/GameEvent.ts\");\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n\n\n\nclass CollisionEventArgs extends _Core_GameEvent__WEBPACK_IMPORTED_MODULE_1__.EventArgs {\n    collider;\n    constructor(collider) {\n        super();\n        this.collider = collider;\n    }\n}\nclass ColliderC extends _Core_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    offset = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_2__.Vector.zero();\n    radius;\n    isActive = false;\n    isStatic;\n    // public layer: number;\n    avoidObjectes;\n    collisions = new Set();\n    onCollisionEnterEvent = new _Core_GameEvent__WEBPACK_IMPORTED_MODULE_1__.GameEvent();\n    onCollisionExitEvent = new _Core_GameEvent__WEBPACK_IMPORTED_MODULE_1__.GameEvent();\n    constructor(radius = 1, isStatic = true, ...avoidObjectes) {\n        super();\n        this.radius = radius;\n        this.isStatic = isStatic;\n        this.avoidObjectes = new Set();\n        avoidObjectes.forEach(ao => this.avoidObjectes.add(ao));\n    }\n    start() {\n        this.onCollisionEnterEvent.register(this.getGameWorld());\n        this.onCollisionExitEvent.register(this.getGameWorld());\n    }\n    getCenter() {\n        return this.getTransform().position.add(this.offset);\n    }\n    collides(other) {\n        return ((this.getCenter())\n            .sub(other.getCenter())\n            .magnitude() <= this.radius + other.radius)\n            && !this.avoidObjectes.has(other.getGameObject()) && !other.avoidObjectes.has(this.getGameObject());\n    }\n    onCollisionEnter(other) {\n        this.onCollisionEnterEvent.emit(new CollisionEventArgs(other));\n    }\n    onCollisionExit(other) {\n        this.onCollisionExitEvent.emit(new CollisionEventArgs(other));\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Collider.ts?");

/***/ }),

/***/ "./src/Components/Destroyer.ts":
/*!*************************************!*\
  !*** ./src/Components/Destroyer.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DestroyerC: () => (/* binding */ DestroyerC)\n/* harmony export */ });\n/* harmony import */ var _Core_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/Component */ \"./src/Core/Component.ts\");\n/* harmony import */ var _Plugins_Scheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Plugins/Scheduler */ \"./src/Plugins/Scheduler.ts\");\n/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Animation */ \"./src/Components/Animation.ts\");\n\n\n\nclass DestroyerC extends _Core_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    lifeTime;\n    constructor(lifeTime = 1) {\n        super();\n        this.lifeTime = lifeTime;\n    }\n    onInvoke(topic) {\n        // this.getComponent(ColliderC)?.enable(false);\n        this.getComponent(_Animation__WEBPACK_IMPORTED_MODULE_2__.AnimationC)?.startShrink();\n    }\n    start() {\n        let destroyTime = this.getGameWorld().getWorldTime() + this.lifeTime;\n        this.getGameWorld().getPlugin(_Plugins_Scheduler__WEBPACK_IMPORTED_MODULE_1__.SchedulerPlugin).addInvoke(this, destroyTime, \"destroy\");\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Destroyer.ts?");

/***/ }),

/***/ "./src/Components/Health.ts":
/*!**********************************!*\
  !*** ./src/Components/Health.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DamageEventArgs: () => (/* binding */ DamageEventArgs),\n/* harmony export */   HealthC: () => (/* binding */ HealthC)\n/* harmony export */ });\n/* harmony import */ var _Core_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/Component */ \"./src/Core/Component.ts\");\n/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Animation */ \"./src/Components/Animation.ts\");\n/* harmony import */ var _Collider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Collider */ \"./src/Components/Collider.ts\");\n/* harmony import */ var _RigidBody__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RigidBody */ \"./src/Components/RigidBody.ts\");\n/* harmony import */ var _Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Renderers/PolygonRenderer */ \"./src/Components/Renderers/PolygonRenderer.ts\");\n/* harmony import */ var _Core_GameEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Core/GameEvent */ \"./src/Core/GameEvent.ts\");\n\n\n\n\n\n\nclass DamageEventArgs extends _Core_GameEvent__WEBPACK_IMPORTED_MODULE_5__.EventArgs {\n    damage;\n    participant;\n    constructor(damage, participant) {\n        super();\n        this.damage = damage;\n        this.participant = participant;\n    }\n}\nclass HealthC extends _Core_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    health;\n    maxHealth;\n    damageEvent;\n    constructor(maxHealth, health = maxHealth) {\n        super();\n        this.health = health;\n        this.maxHealth = maxHealth;\n        this.damageEvent = new _Core_GameEvent__WEBPACK_IMPORTED_MODULE_5__.GameEvent();\n    }\n    start() {\n        this.damageEvent.register(this.getGameWorld());\n        this.getComponent(_Collider__WEBPACK_IMPORTED_MODULE_2__.ColliderC).onCollisionEnterEvent.subscribe(this, \"onCollisionEnter\");\n    }\n    event(args) {\n        let cargs = args;\n        this.onCollisionEnter(cargs.collider);\n    }\n    onCollisionEnter(other) {\n        let otherGO = other.getGameObject();\n        let otherRigidbody = otherGO.getComponent(_RigidBody__WEBPACK_IMPORTED_MODULE_3__.RigidBodyC);\n        let thisRigidbody = this.getComponent(_RigidBody__WEBPACK_IMPORTED_MODULE_3__.RigidBodyC);\n        let op = thisRigidbody.mass / (otherRigidbody.mass + thisRigidbody.mass);\n        if (thisRigidbody.mass < otherRigidbody.mass) {\n            otherRigidbody.velocity = otherRigidbody.velocity.add(thisRigidbody.velocity.times(op)).times(0.5); //toUnit().times(v2);\n            thisRigidbody.velocity = thisRigidbody.velocity.add(otherRigidbody.velocity.times(1 - op).times(0.5)); //toUnit().times(v2);\n        }\n        otherRigidbody.angularVelocity += this.getTransform().position.sub(otherGO.getTransform().position).vectorProduct(thisRigidbody.velocity) * (op / 15);\n        try {\n            const other = otherGO.getComponent(HealthC);\n            const damageValue = Math.min(other.health, this.health);\n            if (damageValue == 0)\n                return;\n            this.onDamage(damageValue, other);\n            other.onDamage(damageValue, this);\n        }\n        catch { }\n    }\n    getHealth() {\n        return this.health / this.maxHealth;\n    }\n    heal(value) {\n        this.health = Math.min(this.maxHealth, this.health + value);\n    }\n    onDamage(value, participant) {\n        this.health -= value;\n        this.damageEvent.emit(new DamageEventArgs(value, participant));\n        if (this.health == 0) {\n            this.getComponent(_Collider__WEBPACK_IMPORTED_MODULE_2__.ColliderC)?.enable(false);\n            this.getComponent(_RigidBody__WEBPACK_IMPORTED_MODULE_3__.RigidBodyC).dampingFactor = 0.6;\n            this.getComponent(_Animation__WEBPACK_IMPORTED_MODULE_1__.AnimationC)?.startShrink();\n            if (participant.hasComponent(_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_4__.PolygonRendererC)) {\n                let myColor = this.getComponent(_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_4__.PolygonRendererC).color;\n                let newColor = myColor.blend(participant.getComponent(_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_4__.PolygonRendererC).color.toRgb(), 0.5).toRgb();\n                this.getComponent(_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_4__.PolygonRendererC).color = newColor;\n                participant.getComponent(_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_4__.PolygonRendererC).color = newColor;\n            }\n        }\n        else\n            this.getComponent(_Animation__WEBPACK_IMPORTED_MODULE_1__.AnimationC)?.startZoom();\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Health.ts?");

/***/ }),

/***/ "./src/Components/Npc.ts":
/*!*******************************!*\
  !*** ./src/Components/Npc.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NpcC: () => (/* binding */ NpcC),\n/* harmony export */   NpcType: () => (/* binding */ NpcType)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Canon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Canon */ \"./src/Components/Canon.ts\");\n/* harmony import */ var _StandaloneComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StandaloneComponent */ \"./src/Components/StandaloneComponent.ts\");\n/* harmony import */ var _Bullet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Bullet */ \"./src/Components/Bullet.ts\");\n/* harmony import */ var _RigidBody__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RigidBody */ \"./src/Components/RigidBody.ts\");\n/* harmony import */ var _Helpers_Math__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Helpers/Math */ \"./src/Helpers/Math.ts\");\n/* harmony import */ var _Health__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Health */ \"./src/Components/Health.ts\");\n\n\n\n\n\n\n\nvar NpcType;\n(function (NpcType) {\n    NpcType[NpcType[\"neutral\"] = 0] = \"neutral\";\n    NpcType[NpcType[\"passive\"] = 1] = \"passive\";\n    NpcType[NpcType[\"aggresive\"] = 2] = \"aggresive\";\n})(NpcType || (NpcType = {}));\nclass NpcC extends _StandaloneComponent__WEBPACK_IMPORTED_MODULE_2__.StandaloneComponent {\n    type = NpcType.aggresive;\n    isAttacing = false;\n    targetId = \"None\";\n    isFollowing = false;\n    minDistance = 35;\n    maxDistance = 1000;\n    maxSpeed = 10;\n    start() {\n        let health = this.getComponent(_Health__WEBPACK_IMPORTED_MODULE_6__.HealthC);\n        health.damageEvent.subscribe(this);\n    }\n    event(args) {\n        let damageArgs = args;\n        const other = damageArgs.participant;\n        if (other.hasComponent(_Bullet__WEBPACK_IMPORTED_MODULE_3__.BulletC) && other.getComponent(_Bullet__WEBPACK_IMPORTED_MODULE_3__.BulletC).getOwner())\n            this.attack(other.getComponent(_Bullet__WEBPACK_IMPORTED_MODULE_3__.BulletC).getOwner());\n    }\n    attack(gameObject) {\n        this.isAttacing = true;\n        this.targetId = gameObject.getId();\n        this.isFollowing = true;\n    }\n    update(delta) {\n        let target = this.getGameWorld().getGameObject(this.targetId);\n        if (!target) {\n            this.isAttacing = false;\n            return;\n        }\n        if (this.isAttacing) {\n            let turret = this.getComponent(_Canon__WEBPACK_IMPORTED_MODULE_1__.CanonC);\n            let direction = target.getTransform().position.sub(this.getTransform().position);\n            turret.targetDirection = direction;\n            let distance = direction.magnitude();\n            if (distance > this.maxDistance)\n                this.isAttacing = false;\n            turret.shoot();\n            if (distance >= this.minDistance) {\n                let angle = this.getTransform().rotation;\n                let targetAngle = direction.toRad();\n                angle += 5 * delta * _Helpers_Math__WEBPACK_IMPORTED_MODULE_5__.GMath.deltaAngle(angle, targetAngle);\n                this.getTransform().rotation = angle;\n                let rigidBody = this.getComponent(_RigidBody__WEBPACK_IMPORTED_MODULE_4__.RigidBodyC);\n                rigidBody.velocity = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector.fromRad(angle).times(this.maxSpeed);\n            }\n        }\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Npc.ts?");

/***/ }),

/***/ "./src/Components/Renderers/BarRenderer.ts":
/*!*************************************************!*\
  !*** ./src/Components/Renderers/BarRenderer.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BarRendererC: () => (/* binding */ BarRendererC)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Plugins_Camera__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Plugins/Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Renderer */ \"./src/Components/Renderers/Renderer.ts\");\n/* harmony import */ var _Health__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Health */ \"./src/Components/Health.ts\");\n\n\n\n\n\nclass BarRendererC extends _Renderer__WEBPACK_IMPORTED_MODULE_3__.RendererC {\n    offset = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__.Vector(0, 4);\n    fill = 0.5;\n    width = 5;\n    height = 0.5;\n    constructor(zindex = 0) {\n        super(zindex);\n    }\n    render(context) {\n        let width = this.width;\n        let fill = this.fill;\n        try {\n            fill = this.getComponent(_Health__WEBPACK_IMPORTED_MODULE_4__.HealthC).getHealth();\n            width = 2 + this.getComponent(_Health__WEBPACK_IMPORTED_MODULE_4__.HealthC).maxHealth / 250.0;\n        }\n        catch { }\n        if (fill >= 1 || fill <= 0)\n            return;\n        const x = this.getTransform().position.x;\n        const y = this.getTransform().position.y;\n        const transformScale = this.getTransform().scale;\n        const scale = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_2__.CameraPlugin).scaleV;\n        const offset = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_2__.CameraPlugin).cameraScreenOffset;\n        const cmx = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_2__.CameraPlugin).cameraPositon.x;\n        const cmy = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_2__.CameraPlugin).cameraPositon.y;\n        const color = _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb.getHeatmapColor(fill).toString();\n        const cx = (x - cmx);\n        const cy = (y - cmy);\n        const radius = 0.25;\n        context.translate(offset.x, offset.y);\n        context.scale(scale.x, scale.y);\n        context.translate(cx, cy);\n        // context.rotate(r);\n        context.scale(transformScale.x, transformScale.y);\n        context.translate(this.offset.x, this.offset.y);\n        context.fillStyle = color;\n        context.shadowBlur = 0;\n        context.beginPath();\n        context.roundRect(-width / 2, -this.height / 2, width, this.height, radius);\n        context.closePath();\n        context.fillStyle = _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb.background.toString();\n        context.fill();\n        context.beginPath();\n        context.roundRect(-width / 2, -this.height / 2, width * fill, this.height, radius);\n        context.closePath();\n        context.fillStyle = color;\n        context.fill();\n        context.beginPath();\n        context.roundRect(-width / 2, -this.height / 2, width, this.height, radius);\n        context.closePath();\n        context.shadowBlur = 30;\n        context.stroke();\n        context.beginPath();\n        context.roundRect(-width / 2, -this.height / 2, width * fill, this.height, radius);\n        context.closePath();\n        context.shadowBlur = 0;\n        context.stroke();\n        context.setTransform(1, 0, 0, 1, 0, 0);\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Renderers/BarRenderer.ts?");

/***/ }),

/***/ "./src/Components/Renderers/CanonRenderer.ts":
/*!***************************************************!*\
  !*** ./src/Components/Renderers/CanonRenderer.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CanonRendererC: () => (/* binding */ CanonRendererC)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Plugins/Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _Canon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Canon */ \"./src/Components/Canon.ts\");\n/* harmony import */ var _PolygonRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PolygonRenderer */ \"./src/Components/Renderers/PolygonRenderer.ts\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Renderer */ \"./src/Components/Renderers/Renderer.ts\");\n\n\n\n\n\nclass CanonRendererC extends _Renderer__WEBPACK_IMPORTED_MODULE_4__.RendererC {\n    color;\n    constructor(zindex = 0, color = _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb.background.clone()) {\n        super();\n        this.zindex = zindex;\n        this.color = color;\n    }\n    render(context) {\n        const length = this.getComponent(_Canon__WEBPACK_IMPORTED_MODULE_2__.CanonC).length;\n        const width = this.getComponent(_Canon__WEBPACK_IMPORTED_MODULE_2__.CanonC).width;\n        const x = this.getTransform().position.x;\n        const y = this.getTransform().position.y;\n        const transformScale = this.getTransform().scale;\n        const scale = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).scaleV;\n        const offset = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraScreenOffset;\n        const cmx = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.x;\n        const cmy = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.y;\n        const color = this.color.toString();\n        const color2 = this.getComponent(_PolygonRenderer__WEBPACK_IMPORTED_MODULE_3__.PolygonRendererC).color.toString();\n        const cx = (x - cmx);\n        const cy = (y - cmy);\n        const canon = this.getComponent(_Canon__WEBPACK_IMPORTED_MODULE_2__.CanonC);\n        const sp = Math.sin(Math.min(1, canon.getShotDelta() / canon.cooldown) * Math.PI);\n        const r = 1;\n        const range = canon.range / 5;\n        // const offset = this.getComponent(RigidBodyC).velocity.reverse().times(canon.getBulletLifetime());\n        // const offset = this.getComponent(RigidBodyC).velocity.add(canon.direction.times(canon.bulletSpeed)).reverse().times(canon.getBulletLifetime()/3);\n        // const offset = this.getComponent(RigidBodyC).velocity.times(0.25).add(canon.direction.times(canon.bulletSpeed)).times(canon.getBulletLifetime());\n        const gunOffset = canon.direction.times(canon.bulletSpeed).times(canon.getBulletLifetime()).add(canon.getGlobalOffset());\n        context.translate(offset.x, offset.y);\n        context.scale(scale.x, scale.y);\n        context.translate(cx, cy);\n        context.translate(gunOffset.x, gunOffset.y);\n        // context.scale(transformScale.x, transformScale.y);\n        // context.rotate(canon.direction.toRad());\n        context.beginPath();\n        context.arc(0, 0, r, 0, 2 * Math.PI);\n        context.closePath();\n        context.shadowBlur = 0;\n        // color2.toString();\n        context.stroke();\n        context.strokeRect(-r / 2, -r / 2, r, r);\n        context.setTransform(1, 0, 0, 1, 0, 0);\n        context.translate(offset.x, offset.y);\n        context.scale(scale.x, scale.y);\n        context.translate(cx, cy);\n        context.scale(transformScale.x, transformScale.y);\n        context.rotate(canon.direction.toRad());\n        context.beginPath();\n        context.roundRect(0, -width / 2, (1 - sp / 3) * length, width, 0.1);\n        context.closePath();\n        context.fillStyle = color;\n        context.shadowBlur = 0;\n        context.fill();\n        context.shadowBlur = 30;\n        context.stroke();\n        context.shadowBlur = 0;\n        context.setTransform(1, 0, 0, 1, 0, 0);\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Renderers/CanonRenderer.ts?");

/***/ }),

/***/ "./src/Components/Renderers/ChasisRenderer.ts":
/*!****************************************************!*\
  !*** ./src/Components/Renderers/ChasisRenderer.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChasisRendererC: () => (/* binding */ ChasisRendererC)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Plugins/Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _PolygonRenderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PolygonRenderer */ \"./src/Components/Renderers/PolygonRenderer.ts\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Renderer */ \"./src/Components/Renderers/Renderer.ts\");\n\n\n\n\nclass ChasisRendererC extends _Renderer__WEBPACK_IMPORTED_MODULE_3__.RendererC {\n    color;\n    constructor(zindex = 0, color = new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(22, 24, 25)) {\n        super();\n        this.zindex = zindex;\n        this.color = color;\n    }\n    render(context) {\n        const offset = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraScreenOffset;\n        const x = this.getTransform().position.x;\n        const y = this.getTransform().position.y;\n        const r = this.getTransform().rotation;\n        const transformScale = this.getTransform().scale;\n        const scale = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).scaleV;\n        const cmx = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.x;\n        const cmy = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.y;\n        const color = this.color.toString();\n        const cx = x - cmx;\n        const cy = y - cmy;\n        // context.save();\n        context.translate(offset.x, offset.y);\n        context.scale(scale.x, scale.y);\n        context.translate(cx, cy);\n        context.rotate(r);\n        context.scale(transformScale.x, transformScale.y);\n        context.beginPath();\n        context.fillStyle = this.getComponent(_PolygonRenderer__WEBPACK_IMPORTED_MODULE_2__.PolygonRendererC).color.toString();\n        context.shadowBlur = 0;\n        context.roundRect(-4, -2, 8, 4, 1);\n        context.fill();\n        context.shadowBlur = 50;\n        context.stroke();\n        context.closePath();\n        context.beginPath();\n        context.fillStyle = _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb.background.toString();\n        context.shadowBlur = 0;\n        context.roundRect(-4.5, -3.25, 10, 2, 0.5);\n        context.fill();\n        context.shadowBlur = 50;\n        context.stroke();\n        context.closePath();\n        context.beginPath();\n        context.shadowBlur = 0;\n        context.roundRect(-4.5, 1.25, 10, 2, 0.5);\n        context.fill();\n        context.shadowBlur = 50;\n        context.stroke();\n        context.closePath();\n        context.beginPath();\n        context.fillStyle = _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb.background.toString();\n        context.shadowBlur = 0;\n        context.roundRect(-3, -2, 6, 4, 1.5);\n        context.fill();\n        context.shadowBlur = 50;\n        context.stroke();\n        context.closePath();\n        context.shadowBlur = 0;\n        ;\n        context.setTransform(1, 0, 0, 1, 0, 0);\n        // context.restore();\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Renderers/ChasisRenderer.ts?");

/***/ }),

/***/ "./src/Components/Renderers/ColliderRenderer.ts":
/*!******************************************************!*\
  !*** ./src/Components/Renderers/ColliderRenderer.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ColliderRendererC: () => (/* binding */ ColliderRendererC)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Plugins/Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _Plugins_Config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Plugins/Config */ \"./src/Plugins/Config.ts\");\n/* harmony import */ var _Collider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Collider */ \"./src/Components/Collider.ts\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Renderer */ \"./src/Components/Renderers/Renderer.ts\");\n\n\n\n\n\nclass ColliderRendererC extends _Renderer__WEBPACK_IMPORTED_MODULE_4__.RendererC {\n    activeColor = new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(172, 42, 55, 0.125);\n    staticColor = new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(95, 64, 36, 0.125);\n    dynamicColor = new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(57, 127, 31, 0.125);\n    disabledColor = new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(36, 24, 36, 0.125);\n    constructor(zindex = -1) {\n        super();\n        this.zindex = zindex;\n    }\n    getColor() {\n        let color = this.dynamicColor;\n        let collider = this.getComponent(_Collider__WEBPACK_IMPORTED_MODULE_3__.ColliderC);\n        if (!collider.isEnabled())\n            color = this.disabledColor;\n        else if (collider.isActive)\n            color = this.activeColor;\n        else if (collider.isStatic)\n            color = this.staticColor;\n        return color;\n    }\n    render(context) {\n        let display = this.getPlugin(_Plugins_Config__WEBPACK_IMPORTED_MODULE_2__.ConfigPlugin)?.get(\"displayColliders\") ?? false;\n        if (!display)\n            return;\n        const collider = this.getComponent(_Collider__WEBPACK_IMPORTED_MODULE_3__.ColliderC);\n        const colliderOffset = collider.offset;\n        const radius = collider.radius;\n        const radius2 = collider.radius + 0.25;\n        const color = this.getColor();\n        const offset = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraScreenOffset;\n        const x = this.getTransform().position.x + colliderOffset.x;\n        const y = this.getTransform().position.y + colliderOffset.y;\n        const r = this.getTransform().rotation;\n        const scale = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).scaleV;\n        const cmx = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.x;\n        const cmy = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.y;\n        const cx = (x - cmx);\n        const cy = (y - cmy);\n        context.save();\n        context.translate(offset.x, offset.y);\n        context.scale(scale.x, scale.y);\n        context.translate(cx, cy);\n        context.rotate(r);\n        context.strokeStyle = color.toRgb().toString();\n        context.fillStyle = color.toString();\n        context.shadowBlur = 30;\n        context.beginPath();\n        context.arc(0, 0, radius2, 0, 2 * Math.PI);\n        context.closePath();\n        context.fill();\n        context.stroke();\n        context.beginPath();\n        context.arc(0, 0, radius, 0, 2 * Math.PI);\n        context.closePath();\n        context.lineWidth = 0.1;\n        context.stroke();\n        // context.setTransform(1, 0, 0, 1, 0, 0);\n        context.restore();\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Renderers/ColliderRenderer.ts?");

/***/ }),

/***/ "./src/Components/Renderers/ImageRenderer.ts":
/*!***************************************************!*\
  !*** ./src/Components/Renderers/ImageRenderer.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageRendererC: () => (/* binding */ ImageRendererC)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Plugins/Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Renderer */ \"./src/Components/Renderers/Renderer.ts\");\n\n\n\nclass ImageRendererC extends _Renderer__WEBPACK_IMPORTED_MODULE_2__.RendererC {\n    image = new Image();\n    side;\n    offset;\n    constructor(side = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector.zero(), offset = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector.zero(), src = \"GameEngine/src/Assets/vectorpaint3.svg\", zindex = 0) {\n        super();\n        this.zindex = zindex;\n        this.side = side;\n        this.offset = offset;\n        this.image.src = src;\n    }\n    render(context) {\n        const offset = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraScreenOffset;\n        const x = this.getTransform().position.x;\n        const y = this.getTransform().position.y;\n        const r = this.getTransform().rotation;\n        const transformScale = this.getTransform().scale;\n        const scale = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).scaleV;\n        const cmx = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.x;\n        const cmy = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.y;\n        const cx = (x - cmx);\n        const cy = (y - cmy);\n        let a = this.side;\n        if (a.x == 0)\n            a.x = this.image.width;\n        if (a.y == 0)\n            a.y = this.image.height;\n        // context.save();\n        context.translate(offset.x, offset.y);\n        context.scale(scale.x, scale.y);\n        context.translate(cx, cy);\n        context.rotate(r);\n        context.scale(transformScale.x, transformScale.y);\n        context.translate(this.offset.x, this.offset.y);\n        context.shadowBlur = 15;\n        context.drawImage(this.image, -a.x / 2, -a.y / 2, a.x, a.y);\n        context.shadowBlur = 0;\n        context.setTransform(1, 0, 0, 1, 0, 0);\n        // context.restore();\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Renderers/ImageRenderer.ts?");

/***/ }),

/***/ "./src/Components/Renderers/PolygonRenderer.ts":
/*!*****************************************************!*\
  !*** ./src/Components/Renderers/PolygonRenderer.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PolygonRendererC: () => (/* binding */ PolygonRendererC)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Plugins/Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Renderer */ \"./src/Components/Renderers/Renderer.ts\");\n\n\n\nclass PolygonRendererC extends _Renderer__WEBPACK_IMPORTED_MODULE_2__.RendererC {\n    color;\n    radius;\n    n;\n    constructor(side, n = 4, zindex = 0, color = _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb.randomColor2()) {\n        super();\n        this.radius = side;\n        this.n = n;\n        this.zindex = zindex;\n        this.color = color;\n    }\n    render(context) {\n        const offset = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraScreenOffset;\n        const x = this.getTransform().position.x;\n        const y = this.getTransform().position.y;\n        const r = this.getTransform().rotation;\n        const transformScale = this.getTransform().scale;\n        const scale = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).scaleV;\n        const cmx = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.x;\n        const cmy = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.y;\n        const color = this.color.toString();\n        const cx = (x - cmx);\n        const cy = (y - cmy);\n        // context.save();\n        // const sin = Math.sin(r);\n        // const cos = Math.cos(r);\n        // const sx = scale.x * transformScale.x;\n        // const sy = scale.y * transformScale.y;\n        // const a2 = cos * sx;\n        // const b = sin * sx;\n        // const c = -sin * sy;\n        // const d = cos * sy;\n        // const e = offset.x + scale.x * (cx * cos - cy * sin);\n        // const f = offset.y + scale.y * (cx * sin + cy * cos);\n        // // Ustaw bezpo≈õrednio macierz transformacji\n        // context.setTransform(a2, b, c, d, e, f);\n        context.translate(offset.x, offset.y);\n        context.scale(scale.x, scale.y);\n        context.translate(cx, cy);\n        context.rotate(r);\n        context.scale(transformScale.x, transformScale.y);\n        const a = this.radius;\n        if (this.n < 10) {\n            context.beginPath();\n            context.moveTo(0, a);\n            const angle = (2 * Math.PI) / this.n;\n            for (let i = 1; i < this.n; i++) {\n                context.lineTo(Math.sin(i * angle) * a, Math.cos(i * angle) * a);\n            }\n            context.closePath();\n        }\n        else {\n            context.beginPath();\n            context.arc(0, 0, a, 0, 2 * Math.PI);\n            context.closePath();\n        }\n        context.fillStyle = color;\n        context.shadowBlur = 0;\n        context.fill();\n        context.shadowBlur = 50;\n        context.stroke();\n        context.shadowBlur = 0;\n        context.setTransform(1, 0, 0, 1, 0, 0);\n        // context.restore();\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Renderers/PolygonRenderer.ts?");

/***/ }),

/***/ "./src/Components/Renderers/Renderer.ts":
/*!**********************************************!*\
  !*** ./src/Components/Renderers/Renderer.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RendererC: () => (/* binding */ RendererC)\n/* harmony export */ });\n/* harmony import */ var _Core_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Core/Component */ \"./src/Core/Component.ts\");\n\nclass RendererC extends _Core_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    zindex;\n    constructor(zindex = 0) {\n        super();\n        this.zindex = zindex;\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Renderers/Renderer.ts?");

/***/ }),

/***/ "./src/Components/Renderers/TextRenderer.ts":
/*!**************************************************!*\
  !*** ./src/Components/Renderers/TextRenderer.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TextRendererC: () => (/* binding */ TextRendererC)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Plugins/Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Renderer */ \"./src/Components/Renderers/Renderer.ts\");\n\n\n\nclass TextRendererC extends _Renderer__WEBPACK_IMPORTED_MODULE_2__.RendererC {\n    color = new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(42, 42, 55);\n    text;\n    displayName;\n    constructor(text, displayName = false, zindex = 1) {\n        super();\n        this.text = text;\n        this.zindex = zindex;\n        this.displayName = displayName;\n    }\n    render(context) {\n        const offset = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraScreenOffset;\n        const x = this.getTransform().position.x;\n        const y = this.getTransform().position.y;\n        const r = this.getTransform().rotation;\n        const transformScale = this.getTransform().scale;\n        const scale = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).scaleV;\n        const cmx = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.x;\n        const cmy = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.y;\n        const color = this.color.toString();\n        const cx = (x - cmx);\n        const cy = (y - cmy);\n        // context.save();\n        context.fillStyle = color;\n        context.translate(offset.x, offset.y);\n        context.scale(scale.x, scale.y);\n        context.translate(cx, cy);\n        // context.rotate(r);\n        context.scale(transformScale.x, transformScale.y);\n        context.scale(1, -1);\n        // context.fillRect(-a, -a, 2*a, 2*a);\n        // context.shadowBlur = 30;\n        // context.strokeRect(-a, -a, 2*a, 2*a);\n        const text = this.displayName ? this.getGameObject().name : this.text;\n        const textHeight = 1.0;\n        context.font = \"bold \" + textHeight + \"px Arial\";\n        context.fillStyle = \"azure\";\n        context.shadowBlur = 10;\n        const textOffset = context.measureText(text).width / 2;\n        context.strokeText(text, -textOffset, textHeight / 4);\n        context.fillText(text, -textOffset, textHeight / 4);\n        context.shadowBlur = 0;\n        context.setTransform(1, 0, 0, 1, 0, 0);\n        // context.restore();\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Renderers/TextRenderer.ts?");

/***/ }),

/***/ "./src/Components/Renderers/TracesRenderer.ts":
/*!****************************************************!*\
  !*** ./src/Components/Renderers/TracesRenderer.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TracesRendererC: () => (/* binding */ TracesRendererC)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Plugins/Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Renderer */ \"./src/Components/Renderers/Renderer.ts\");\n\n\n\nclass TracesRendererC extends _Renderer__WEBPACK_IMPORTED_MODULE_2__.RendererC {\n    color;\n    tracesSpace = 0.5;\n    traces = [];\n    lastPosition = undefined;\n    transparency = 2;\n    duration = 1;\n    length = 2;\n    constructor(zindex = 0, color = new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(66, 83, 68)) {\n        super();\n        color = color.blend(_Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb.stroke, 0.3); //.toArgb(0.75);\n        this.zindex = zindex;\n        this.color = color;\n    }\n    render(context) {\n        const offset = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraScreenOffset;\n        const scale = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).scaleV;\n        const cmx = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.x;\n        const cmy = this.getGameWorld().getPlugin(_Plugins_Camera__WEBPACK_IMPORTED_MODULE_1__.CameraPlugin).cameraPositon.y;\n        ////////////////////\n        const currentPosition = this.getTransform().position.clone();\n        const currentRotation = this.getTransform().rotation;\n        if (this.lastPosition == undefined)\n            this.lastPosition = currentPosition.clone();\n        let mv = currentPosition.sub(this.lastPosition);\n        while (mv.magnitude() > this.tracesSpace) {\n            this.traces.push({\n                position: this.lastPosition,\n                rotation: currentRotation,\n                startTime: this.getGameWorld().getWorldTime(),\n            });\n            this.lastPosition = this.lastPosition.add(mv.toUnit().times(this.tracesSpace));\n            mv = currentPosition.sub(this.lastPosition);\n        }\n        ////////////////////\n        while (this.traces.length > 0 && this.traces[0].startTime + this.duration < this.getGameWorld().getWorldTime())\n            this.traces.shift();\n        for (const trace of this.traces) {\n            const cx = trace.position.x - cmx;\n            const cy = trace.position.y - cmy;\n            const lifeTime = 1 - (this.getGameWorld().getWorldTime() - trace.startTime) / this.duration;\n            context.translate(offset.x, offset.y);\n            context.scale(scale.x, scale.y);\n            context.translate(cx, cy);\n            context.rotate(trace.rotation);\n            context.beginPath();\n            context.fillStyle = this.color.toArgb(this.color.a * this.transparency * lifeTime).toString();\n            context.shadowBlur = 0;\n            context.roundRect(-4.5, -3.25, this.length, 2, 0.75);\n            context.fill();\n            context.closePath();\n            context.beginPath();\n            context.roundRect(-4.5, 1.25, this.length, 2, 0.75);\n            context.fill();\n            context.closePath();\n            context.setTransform(1, 0, 0, 1, 0, 0);\n        }\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Renderers/TracesRenderer.ts?");

/***/ }),

/***/ "./src/Components/RigidBody.ts":
/*!*************************************!*\
  !*** ./src/Components/RigidBody.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RigidBodyC: () => (/* binding */ RigidBodyC)\n/* harmony export */ });\n/* harmony import */ var _Core_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/Component */ \"./src/Core/Component.ts\");\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n\n\nclass RigidBodyC extends _Core_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    velocity;\n    acceleration = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__.Vector.zero();\n    mass = 1;\n    dampingFactor;\n    angularVelocity = 0;\n    angularAcceleration = 0;\n    angularDrag = 0.25;\n    constructor(mass, dampingFactor = 0.45) {\n        super();\n        const s = 15;\n        this.velocity = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__.Vector(Math.random() * s * 2 - s, Math.random() * s * 2 - s);\n        this.dampingFactor = dampingFactor;\n        this.mass = mass;\n    }\n    update(delta) {\n        this.velocity = this.velocity.add(this.acceleration.times(delta));\n        this.velocity = this.velocity.times(Math.pow(this.dampingFactor, delta));\n        this.getTransform().position = this.getTransform().position.add(this.velocity.times(delta));\n        this.getTransform().position = this.getTransform().position.add(this.acceleration.times(delta * delta / 2));\n        this.angularVelocity = this.angularVelocity + this.angularAcceleration * delta;\n        this.angularVelocity = this.angularVelocity * Math.pow(this.angularDrag, delta);\n        this.getTransform().rotation += this.angularVelocity * delta;\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/RigidBody.ts?");

/***/ }),

/***/ "./src/Components/StandaloneComponent.ts":
/*!***********************************************!*\
  !*** ./src/Components/StandaloneComponent.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StandaloneComponent: () => (/* binding */ StandaloneComponent)\n/* harmony export */ });\n/* harmony import */ var _Core_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/Component */ \"./src/Core/Component.ts\");\n\nclass StandaloneComponent extends _Core_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    tickCount = 0;\n    tick(delta) {\n        if (this.tickCount == 0)\n            this.start();\n        else\n            this.update(delta);\n        this.tickCount++;\n    }\n    start() { }\n    ;\n    update(delta) { }\n    ;\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/StandaloneComponent.ts?");

/***/ }),

/***/ "./src/Components/Tags.ts":
/*!********************************!*\
  !*** ./src/Components/Tags.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TagsC: () => (/* binding */ TagsC)\n/* harmony export */ });\n/* harmony import */ var _Core_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/Component */ \"./src/Core/Component.ts\");\n\nclass TagsC extends _Core_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    tags = new Set();\n    constructor(...tags) {\n        super();\n        tags.forEach(tag => this.addTag(tag));\n    }\n    addTag(tag) {\n        this.tags.add(tag);\n    }\n    removeTag(tag) {\n        this.tags.delete(tag);\n    }\n    hasTag(tag) {\n        return this.tags.has(tag);\n    }\n    getTags() {\n        return Array.from(this.tags);\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Components/Tags.ts?");

/***/ }),

/***/ "./src/Core/Component.ts":
/*!*******************************!*\
  !*** ./src/Core/Component.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Component: () => (/* binding */ Component)\n/* harmony export */ });\nclass Component {\n    enabled = true;\n    gameObject;\n    //overideable methods\n    start() { }\n    event(args, alias) { }\n    getGameWorld() {\n        return this.gameObject.getGameWorld();\n    }\n    hasComponent(classC) {\n        return this.gameObject.hasComponent(classC);\n    }\n    getComponent(classC) {\n        return this.gameObject.getComponent(classC);\n    }\n    getAllComponents() {\n        return this.gameObject.getAllComponents();\n    }\n    getTransform() {\n        return this.gameObject.getTransform();\n    }\n    getGameObject() {\n        return this.gameObject;\n    }\n    getPlugin(plugin) {\n        return this.getGameWorld().getPlugin(plugin);\n    }\n    isEnabled() {\n        return this.gameObject.enabled && this.enabled;\n    }\n    enable(value = true) {\n        this.enabled = value;\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Core/Component.ts?");

/***/ }),

/***/ "./src/Core/GameEvent.ts":
/*!*******************************!*\
  !*** ./src/Core/GameEvent.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventArgs: () => (/* binding */ EventArgs),\n/* harmony export */   GameEvent: () => (/* binding */ GameEvent)\n/* harmony export */ });\nclass EventArgs {\n    constructor() { }\n}\nclass GameEvent {\n    subs = new Map();\n    args = [];\n    subscribe(sub, alias) {\n        this.subs.set(new WeakRef(sub), alias);\n    }\n    unsubscribe(sub) {\n        this.subs.delete(new WeakRef(sub));\n    }\n    emit(args) {\n        this.args.push(args);\n    }\n    register(gameWorld) {\n        gameWorld.registerEvent(this);\n    }\n    invoke() {\n        if (this.args.length == 0)\n            return;\n        for (const [sub, alias] of this.subs) {\n            const derefSub = sub.deref();\n            if (!derefSub) {\n                this.subs.delete(sub);\n                continue;\n            }\n            for (const args of this.args)\n                derefSub.event(args, alias);\n        }\n        this.args = [];\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Core/GameEvent.ts?");

/***/ }),

/***/ "./src/Core/GameObject.ts":
/*!********************************!*\
  !*** ./src/Core/GameObject.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameObject: () => (/* binding */ GameObject)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Transform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helpers/Transform */ \"./src/Helpers/Transform.ts\");\n\nclass GameObject {\n    enabled = true;\n    name = \"UnnamedGameObject\";\n    transform = new _Helpers_Transform__WEBPACK_IMPORTED_MODULE_0__.Transform();\n    components = new Map();\n    id = crypto.randomUUID().toString();\n    gameWorld;\n    constructor(...components) {\n        for (let component of components) {\n            let name = component.constructor.name;\n            if (this.components.has(name))\n                throw new Error(`Component ${name} already exists in the game object`);\n            component.gameObject = this;\n            this.components.set(name, component);\n        }\n    }\n    hasComponent(classC) {\n        return this.components.has(classC.name);\n    }\n    getComponent(classC) {\n        const type = classC.name;\n        return this.components.get(type);\n    }\n    getAllComponents(onlyEnabled = false) {\n        return Array.from(this.components.values()).filter(c => onlyEnabled ? c.isEnabled() : true);\n    }\n    destroy() {\n        this.gameWorld.destroy(this);\n    }\n    spawn(gameWorld) {\n        return gameWorld.spawn(this);\n    }\n    getId() {\n        return this.id;\n    }\n    getTransform() {\n        return this.transform;\n    }\n    getGameWorld() {\n        return this.gameWorld;\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Core/GameObject.ts?");

/***/ }),

/***/ "./src/Core/GameWorld.ts":
/*!*******************************!*\
  !*** ./src/Core/GameWorld.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameWorld: () => (/* binding */ GameWorld)\n/* harmony export */ });\n/* harmony import */ var _Plugins_Hud_Profiler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Plugins/Hud/Profiler */ \"./src/Plugins/Hud/Profiler.ts\");\n\nclass GameWorld {\n    startTime = 0;\n    prevWorldTime = 0;\n    worldTime = 0;\n    tickCount = 0;\n    gameObjects = new Map();\n    plugins = new Map();\n    events = new Set();\n    componentsToStart = [];\n    constructor(...plugins) {\n        for (let plugin of plugins) {\n            let name = plugin.constructor.name;\n            if (this.plugins.has(name))\n                throw new Error(`Plugin ${name} already exists in the game object`);\n            plugin.gameWorld = this;\n            this.plugins.set(name, plugin);\n        }\n    }\n    //plugins\n    getPlugin(plugin) {\n        const name = plugin.name;\n        return this.getPluginByName(name);\n    }\n    getPluginByName(name) {\n        if (!this.plugins.has(name))\n            throw new Error(`Plugin ${name} does not exist in the game world`);\n        return this.plugins.get(name);\n    }\n    getAllPlugins() {\n        return Array.from(this.plugins.values());\n    }\n    hasPlugin(plugin) {\n        const name = plugin.name;\n        return this.plugins.has(name);\n    }\n    //game objects\n    isSpawned(gameObject) {\n        return this.gameObjects.has(gameObject.getId());\n    }\n    spawn(gameObject) {\n        if (this.gameObjects.has(gameObject.getId()))\n            throw new Error(`GameObject ${gameObject.name} already exists in the game world`);\n        gameObject.gameWorld = this;\n        this.gameObjects.set(gameObject.getId(), gameObject);\n        gameObject.getAllComponents().forEach(comp => this.componentsToStart.push(new WeakRef(comp)));\n        return gameObject;\n    }\n    destroy(gameObject) {\n        if (!this.gameObjects.has(gameObject.getId()))\n            throw new Error(`GameObject ${gameObject.name} does'not exist in the game world`);\n        gameObject.enabled = false;\n        this.gameObjects.delete(gameObject.getId());\n    }\n    getGameObject(id) {\n        return this.gameObjects.get(id);\n    }\n    getAllGameObjects(onlyEnabled = true) {\n        return Array.from(this.gameObjects.values()).filter(go => go.enabled || !onlyEnabled);\n    }\n    //components\n    getComponents(classC, onlyEnabled = true) {\n        return this.getAllGameObjects()\n            .filter(go => go.hasComponent(classC) && (go.getComponent(classC).isEnabled() || !onlyEnabled))\n            .map(go => go.getComponent(classC));\n    }\n    getAllComponents(onlyEnabled = true) {\n        //todo optimalization\n        //not optimalized\n        return Array.from(this.getAllGameObjects(onlyEnabled)).flatMap(go => go.getAllComponents());\n    }\n    //events\n    registerEvent(event) {\n        this.events.add(new WeakRef(event));\n    }\n    //time\n    getWorldTime() {\n        return this.worldTime / 1e3;\n    }\n    //flow control\n    tick() {\n        this.tickCount++;\n        if (this.tickCount == 1)\n            this.startWorld();\n        else\n            this.updateWorld();\n        this.startComponents();\n        this.invokeEvents();\n    }\n    startComponents() {\n        for (let componentRef of this.componentsToStart) {\n            const component = componentRef.deref();\n            if (component)\n                component.start();\n        }\n        this.componentsToStart = [];\n    }\n    startWorld() {\n        this.startTime = performance.now();\n        this.Start();\n        this.plugins.forEach(plugin => plugin.start());\n    }\n    updateWorld() {\n        this.worldTime = performance.now() - this.startTime;\n        const delta = this.worldTime - this.prevWorldTime;\n        this.prevWorldTime = this.worldTime;\n        this.Update(delta / 1e3);\n        this.plugins.forEach(plugin => {\n            if (!plugin.isEnabled())\n                return;\n            let start = performance.now();\n            plugin.update(delta / 1e3);\n            this.getPlugin(_Plugins_Hud_Profiler__WEBPACK_IMPORTED_MODULE_0__.ProfilerPlugin).addRecord(plugin.name, performance.now() - start);\n        });\n    }\n    invokeEvents() {\n        let start = performance.now();\n        for (const eventRef of this.events) {\n            const event = eventRef.deref();\n            if (event)\n                event.invoke();\n            else\n                this.events.delete(eventRef);\n        }\n        this.getPlugin(_Plugins_Hud_Profiler__WEBPACK_IMPORTED_MODULE_0__.ProfilerPlugin).addRecord(\"Events\", performance.now() - start);\n    }\n    //overridable methods\n    Start() { }\n    Update(delta) { }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Core/GameWorld.ts?");

/***/ }),

/***/ "./src/Core/Plugin.ts":
/*!****************************!*\
  !*** ./src/Core/Plugin.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Plugin: () => (/* binding */ Plugin)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Commands__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helpers/Commands */ \"./src/Helpers/Commands.ts\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n//WorldComponent = Plugin\nclass Plugin {\n    gameWorld;\n    enabled = true;\n    name = \"Plugin\";\n    //overideable methods\n    event(args, alias) { }\n    start() { }\n    update(delta) { }\n    getPlugin(plugin) {\n        return this.gameWorld.getPlugin(plugin);\n    }\n    hasPlugin(plugin) {\n        return this.gameWorld.hasPlugin(plugin);\n    }\n    isEnabled() {\n        return this.enabled;\n    }\n    enable(value = true) {\n        this.enabled = value;\n    }\n    disable() {\n        this.enabled = false;\n    }\n    cliGetName() {\n        return this.name;\n    }\n    help() {\n        let message = `${this.cliGetName()} commands:\\n`;\n        for (const element of Object.values(this.constructor[\"syntaxes\"])) {\n            message += `/${this.cliGetName()}:${element}\\n`;\n        }\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_0__.CommandResult(true, message, undefined);\n    }\n    cliEnable() {\n        this.enabled = true;\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_0__.CommandResult(true, `${this.name} enabled`, undefined);\n    }\n    cliDisable() {\n        this.enabled = false;\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_0__.CommandResult(true, `${this.name} disabled`, undefined);\n    }\n}\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_0__.cli)(\"help\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_0__.CommandResult)\n], Plugin.prototype, \"help\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_0__.cli)(\"enable\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_0__.CommandResult)\n], Plugin.prototype, \"cliEnable\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_0__.cli)(\"disable\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_0__.CommandResult)\n], Plugin.prototype, \"cliDisable\", null);\n\n\n//# sourceURL=webpack://gameengine/./src/Core/Plugin.ts?");

/***/ }),

/***/ "./src/GameObjectFactory.ts":
/*!**********************************!*\
  !*** ./src/GameObjectFactory.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameObjectFactory: () => (/* binding */ GameObjectFactory)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Components_RigidBody__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Components/RigidBody */ \"./src/Components/RigidBody.ts\");\n/* harmony import */ var _Core_GameObject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Core/GameObject */ \"./src/Core/GameObject.ts\");\n/* harmony import */ var _Components_Renderers_TextRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Components/Renderers/TextRenderer */ \"./src/Components/Renderers/TextRenderer.ts\");\n/* harmony import */ var _Components_Collider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Components/Collider */ \"./src/Components/Collider.ts\");\n/* harmony import */ var _Components_Renderers_ColliderRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Components/Renderers/ColliderRenderer */ \"./src/Components/Renderers/ColliderRenderer.ts\");\n/* harmony import */ var _Components_Renderers_BarRenderer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Components/Renderers/BarRenderer */ \"./src/Components/Renderers/BarRenderer.ts\");\n/* harmony import */ var _Components_Health__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Components/Health */ \"./src/Components/Health.ts\");\n/* harmony import */ var _Components_Animation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Components/Animation */ \"./src/Components/Animation.ts\");\n/* harmony import */ var _Components_Canon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Components/Canon */ \"./src/Components/Canon.ts\");\n/* harmony import */ var _Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Components/Renderers/PolygonRenderer */ \"./src/Components/Renderers/PolygonRenderer.ts\");\n/* harmony import */ var _Components_Destroyer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Components/Destroyer */ \"./src/Components/Destroyer.ts\");\n/* harmony import */ var _Helpers_Math__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Helpers/Math */ \"./src/Helpers/Math.ts\");\n/* harmony import */ var _Components_Renderers_CanonRenderer__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Components/Renderers/CanonRenderer */ \"./src/Components/Renderers/CanonRenderer.ts\");\n/* harmony import */ var _Components_Bullet__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Components/Bullet */ \"./src/Components/Bullet.ts\");\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Components_Renderers_ChasisRenderer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Components/Renderers/ChasisRenderer */ \"./src/Components/Renderers/ChasisRenderer.ts\");\n/* harmony import */ var _Components_Renderers_TracesRenderer__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Components/Renderers/TracesRenderer */ \"./src/Components/Renderers/TracesRenderer.ts\");\n/* harmony import */ var _Components_Tags__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Components/Tags */ \"./src/Components/Tags.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass GameObjectFactory {\n    static polygonGO(radius = 2, n = 3, ...components) {\n        let polygonGO = new _Core_GameObject__WEBPACK_IMPORTED_MODULE_2__.GameObject(new _Components_RigidBody__WEBPACK_IMPORTED_MODULE_1__.RigidBodyC(0.1), new _Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_10__.PolygonRendererC(radius, n, 0, _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb.randomColor2().toArgb(0.75)), new _Components_Renderers_BarRenderer__WEBPACK_IMPORTED_MODULE_6__.BarRendererC(0.1), new _Components_Collider__WEBPACK_IMPORTED_MODULE_4__.ColliderC(_Helpers_Math__WEBPACK_IMPORTED_MODULE_12__.GMath.getColliderRadius(n, radius)), new _Components_Renderers_ColliderRenderer__WEBPACK_IMPORTED_MODULE_5__.ColliderRendererC(), new _Components_Health__WEBPACK_IMPORTED_MODULE_7__.HealthC(25 * n), new _Components_Animation__WEBPACK_IMPORTED_MODULE_8__.AnimationC(), new _Components_Tags__WEBPACK_IMPORTED_MODULE_18__.TagsC(\"Dragable\"), ...components);\n        polygonGO.getTransform().rotation = Math.random() * 2 * Math.PI;\n        polygonGO.name = \"Polygon\";\n        return polygonGO;\n    }\n    static enemyGO(radius = 2.5, text = \"\", zindex = 4, ...components) {\n        let circleGO = new _Core_GameObject__WEBPACK_IMPORTED_MODULE_2__.GameObject(new _Components_Renderers_TextRenderer__WEBPACK_IMPORTED_MODULE_3__.TextRendererC(text, undefined, zindex + 0.1), new _Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_10__.PolygonRendererC(radius, 8, zindex), new _Components_Renderers_BarRenderer__WEBPACK_IMPORTED_MODULE_6__.BarRendererC(zindex + 0.1), new _Components_Renderers_ChasisRenderer__WEBPACK_IMPORTED_MODULE_16__.ChasisRendererC(zindex - 0.2), new _Components_RigidBody__WEBPACK_IMPORTED_MODULE_1__.RigidBodyC(30), new _Components_Collider__WEBPACK_IMPORTED_MODULE_4__.ColliderC(radius, false), new _Components_Renderers_ColliderRenderer__WEBPACK_IMPORTED_MODULE_5__.ColliderRendererC(zindex - 0.15), new _Components_Health__WEBPACK_IMPORTED_MODULE_7__.HealthC(1500), new _Components_Animation__WEBPACK_IMPORTED_MODULE_8__.AnimationC(), new _Components_Renderers_TracesRenderer__WEBPACK_IMPORTED_MODULE_17__.TracesRendererC(-21.37), ...components);\n        circleGO.getTransform().rotation = _Helpers_Math__WEBPACK_IMPORTED_MODULE_12__.GMath.symRand(Math.PI);\n        circleGO.getComponent(_Components_RigidBody__WEBPACK_IMPORTED_MODULE_1__.RigidBodyC).angularDrag = 1;\n        circleGO.getComponent(_Components_Canon__WEBPACK_IMPORTED_MODULE_9__.CanonC).targetDirection = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_15__.Vector.fromRad(_Helpers_Math__WEBPACK_IMPORTED_MODULE_12__.GMath.symRand(Math.PI));\n        circleGO.name = \"Enemy\";\n        return circleGO;\n    }\n    static bulletGO(owner, hp = 30, radius = 0.65, lifeTime = 1, zindex = -1, ...components) {\n        let bulletGO = new _Core_GameObject__WEBPACK_IMPORTED_MODULE_2__.GameObject(new _Components_RigidBody__WEBPACK_IMPORTED_MODULE_1__.RigidBodyC(0.05, 1.0), new _Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_10__.PolygonRendererC(radius, 10, zindex, new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(173, 87, 87)), new _Components_Collider__WEBPACK_IMPORTED_MODULE_4__.ColliderC(radius, false), new _Components_Renderers_ColliderRenderer__WEBPACK_IMPORTED_MODULE_5__.ColliderRendererC(), new _Components_Health__WEBPACK_IMPORTED_MODULE_7__.HealthC(hp), new _Components_Animation__WEBPACK_IMPORTED_MODULE_8__.AnimationC(), new _Components_Destroyer__WEBPACK_IMPORTED_MODULE_11__.DestroyerC(lifeTime), new _Components_Bullet__WEBPACK_IMPORTED_MODULE_14__.BulletC(owner), ...components);\n        bulletGO.getTransform().rotation = 0;\n        bulletGO.name = \"Bullet\";\n        return bulletGO;\n    }\n    static playerGO(radius = 2.5, zindex = 5, ...components) {\n        let playerGO = new _Core_GameObject__WEBPACK_IMPORTED_MODULE_2__.GameObject(\n        // new ImageRendererC(undefined, new Vector(1.3, 0.3), \"GameEngine/src/Assets/vectorpaint2.svg\" , zindex-0.2),\n        new _Components_Renderers_ChasisRenderer__WEBPACK_IMPORTED_MODULE_16__.ChasisRendererC(zindex - 0.2), new _Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_10__.PolygonRendererC(radius, 10, zindex, new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(50, 99, 52)), new _Components_Renderers_TextRenderer__WEBPACK_IMPORTED_MODULE_3__.TextRendererC(\"Player\", true, zindex + 0.1), new _Components_Renderers_ColliderRenderer__WEBPACK_IMPORTED_MODULE_5__.ColliderRendererC(zindex - 0.15), new _Components_Renderers_BarRenderer__WEBPACK_IMPORTED_MODULE_6__.BarRendererC(zindex + 0.1), new _Components_Renderers_CanonRenderer__WEBPACK_IMPORTED_MODULE_13__.CanonRendererC(zindex - 0.1), new _Components_RigidBody__WEBPACK_IMPORTED_MODULE_1__.RigidBodyC(30, 0.025), new _Components_Collider__WEBPACK_IMPORTED_MODULE_4__.ColliderC(radius, false), new _Components_Health__WEBPACK_IMPORTED_MODULE_7__.HealthC(1000), new _Components_Animation__WEBPACK_IMPORTED_MODULE_8__.AnimationC(), new _Components_Canon__WEBPACK_IMPORTED_MODULE_9__.CanonC(6, 1.55, 44), new _Components_Renderers_TracesRenderer__WEBPACK_IMPORTED_MODULE_17__.TracesRendererC(-21.37), ...components);\n        playerGO.getTransform().rotation = 0;\n        playerGO.name = \"Player\";\n        return playerGO;\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/GameObjectFactory.ts?");

/***/ }),

/***/ "./src/Helpers/Animation.ts":
/*!**********************************!*\
  !*** ./src/Helpers/Animation.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameAnimation: () => (/* binding */ GameAnimation)\n/* harmony export */ });\nclass GameAnimation {\n    progress = -1;\n    duration = 0.25;\n    startAnimation = () => { };\n    endAnimation = () => { };\n    updateAnimation = () => { };\n    constructor(update = () => { }, start = () => { }, end = () => { }) {\n        this.updateAnimation = update;\n        this.startAnimation = start;\n        this.endAnimation = end;\n    }\n    update(delta) {\n        if (this.progress > 0) {\n            let fill = (this.duration - this.progress) / this.duration;\n            this.progress -= delta;\n            this.updateAnimation(fill);\n        }\n        else if (this.progress != -1) {\n            this.endAnimation();\n            this.progress = -1;\n        }\n    }\n    start() {\n        if (this.progress == -1) {\n            this.startAnimation();\n            this.progress = this.duration;\n        }\n        else\n            this.progress = (this.duration + this.progress) / 2;\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Helpers/Animation.ts?");

/***/ }),

/***/ "./src/Helpers/Color.ts":
/*!******************************!*\
  !*** ./src/Helpers/Color.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rgb: () => (/* binding */ rgb)\n/* harmony export */ });\nclass rgb {\n    r = 0;\n    g = 0;\n    b = 0;\n    a = 1;\n    static stroke = new rgb(43, 43, 44);\n    // public static readonly background: rgb = new rgb(91, 93, 98);\n    static background = new rgb(93, 97, 95);\n    constructor(r, g, b, a = 1) {\n        this.r = Math.min(255, Math.max(0, r));\n        this.g = Math.min(255, Math.max(0, g));\n        this.b = Math.min(255, Math.max(0, b));\n        this.a = Math.min(1, Math.max(0, a));\n    }\n    toString() {\n        return `rgba(${this.r},${this.g},${this.b},${Math.max(0, Math.min(this.a, 1))})`;\n    }\n    toRgb() {\n        return new rgb(this.r, this.g, this.b);\n    }\n    toArgb(alpha) {\n        return new rgb(this.r, this.g, this.b, alpha);\n    }\n    blend(color, alpha) {\n        return new rgb(this.r * (1 - alpha) + color.r * alpha, this.g * (1 - alpha) + color.g * alpha, this.b * (1 - alpha) + color.b * alpha, this.a * (1 - alpha) + color.a * alpha);\n    }\n    static randomColor() {\n        return new rgb(Math.random() * 255, Math.random() * 255, Math.random() * 255);\n    }\n    static hslToRgb(h, s, l) {\n        s /= 100;\n        l /= 100;\n        const k = (n) => (n + h / 30) % 12;\n        const a = s * Math.min(l, 1 - l);\n        const f = (n) => l - a * Math.max(-1, Math.min(k(n) - 3, Math.min(9 - k(n), 1)));\n        const r = Math.round(f(0) * 255);\n        const g = Math.round(f(8) * 255);\n        const b = Math.round(f(4) * 255);\n        return new rgb(r, g, b);\n    }\n    static randomColor2() {\n        const hue = Math.floor(Math.random() * 360);\n        const saturation = Math.floor(Math.random() * 35) + 15;\n        const lightness = Math.floor(Math.random() * 25) + 30;\n        return rgb.hslToRgb(hue, saturation, lightness);\n    }\n    static getHeatmapColor(value) {\n        value = Math.max(0, Math.min(1, value));\n        let g = Math.min(255, Math.max(0, Math.floor(255 * value * 2)));\n        let r = Math.min(255, Math.max(0, Math.floor(255 * (2 - value * 2))));\n        return new rgb(r / 1.5, g / 1.5, 0, 255);\n    }\n    static tryParseCssColor(color) {\n        let tempElem = document.body;\n        let lastColor = tempElem.style.color;\n        tempElem.style.color = color;\n        let computedColor = getComputedStyle(tempElem).color;\n        tempElem.style.color = lastColor;\n        return this.getRgbFromComputedStyle(computedColor);\n    }\n    static getRgbFromComputedStyle(style) {\n        let match = style.match(/^rgb(a?)\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*([\\d.]+))?\\)$/);\n        if (!match)\n            return undefined;\n        return new rgb(parseInt(match[2]), parseInt(match[3]), parseInt(match[4]), parseFloat(match[5] ?? 1));\n    }\n    clone() {\n        return new rgb(this.r, this.g, this.b, this.a);\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Helpers/Color.ts?");

/***/ }),

/***/ "./src/Helpers/Commands.ts":
/*!*********************************!*\
  !*** ./src/Helpers/Commands.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommandResult: () => (/* binding */ CommandResult),\n/* harmony export */   cli: () => (/* binding */ cli),\n/* harmony export */   cliPlugin: () => (/* binding */ cliPlugin)\n/* harmony export */ });\nclass CommandResult {\n    status;\n    message;\n    data;\n    constructor(status, message, data) {\n        this.status = status;\n        this.message = message;\n        this.data = data;\n    }\n}\nfunction cli(name, argsSyntax, returnType) {\n    return function (target, propertyKey, descriptor) {\n        const originalMethod = descriptor.value;\n        if (originalMethod) {\n            name = name ?? propertyKey;\n            returnType = returnType ?? \"void\";\n            argsSyntax = argsSyntax ?? \"\";\n            if (argsSyntax)\n                argsSyntax = \" \" + argsSyntax;\n            if (returnType)\n                returnType = \": \" + returnType;\n            argsSyntax = name + argsSyntax + returnType;\n            const ctor = target.constructor;\n            if (!Object.prototype.hasOwnProperty.call(ctor, \"commands\")) {\n                ctor.commands = Object.assign({}, ctor.commands || {});\n            }\n            ctor.commands[name] = originalMethod;\n            if (!Object.prototype.hasOwnProperty.call(ctor, \"syntaxes\")) {\n                ctor.syntaxes = Object.assign({}, ctor.syntaxes || {});\n            }\n            console.log(\"Adding syntax:\", argsSyntax);\n            ctor.syntaxes[name] = argsSyntax;\n        }\n    };\n}\n// export function gameCommand(\n//     target: any, \n//     propertyKey: string, \n//     descriptor: TypedPropertyDescriptor<(...args: any[]) => CommandResult>,\n// ): void {\n//     // console.log(target);\n//     const originalMethod = descriptor.value;\n//     if (originalMethod) {\n//         const ctor = target.constructor;\n//         if (!Object.prototype.hasOwnProperty.call(ctor, \"commands\")) {\n//             ctor.commands = Object.assign({}, ctor.commands || {});\n//         }\n//         ctor.commands[propertyKey] = descriptor.value;\n//     }\n// }\nfunction cliPlugin(name) {\n    return function (target) {\n        target.prototype.cliGetName = function () { return name; };\n    };\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Helpers/Commands.ts?");

/***/ }),

/***/ "./src/Helpers/Math.ts":
/*!*****************************!*\
  !*** ./src/Helpers/Math.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GMath: () => (/* binding */ GMath)\n/* harmony export */ });\nclass GMath {\n    static symRand(value) {\n        return (2 * Math.random() - 1) * value;\n    }\n    static getColliderRadius(n, radius) {\n        if (n >= 10)\n            return radius;\n        const angle = Math.PI / n;\n        const h = Math.cos(angle) * radius;\n        return (2 * h + radius) / 3;\n    }\n    static deltaAngle(a, b) {\n        a = a % (2 * Math.PI) + 2 * Math.PI;\n        a = a % (2 * Math.PI);\n        b = b % (2 * Math.PI) + 2 * Math.PI;\n        b = b % (2 * Math.PI) + 2 * Math.PI;\n        return (b - a + Math.PI) % (2 * Math.PI) - Math.PI;\n    }\n    static elasticCollision1D(m1, v1, m2, v2) {\n        const v1Final = ((v1 * (m1 - m2)) + (2 * m2 * v2)) / (m1 + m2);\n        const v2Final = ((v2 * (m2 - m1)) + (2 * m1 * v1)) / (m1 + m2);\n        return [v1Final, v2Final];\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Helpers/Math.ts?");

/***/ }),

/***/ "./src/Helpers/Transform.ts":
/*!**********************************!*\
  !*** ./src/Helpers/Transform.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Transform: () => (/* binding */ Transform)\n/* harmony export */ });\n/* harmony import */ var _Vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector */ \"./src/Helpers/Vector.ts\");\n\nclass Transform {\n    position;\n    rotation;\n    scale;\n    constructor(positon = new _Vector__WEBPACK_IMPORTED_MODULE_0__.Vector(0, 0), rotation = 0, scale = _Vector__WEBPACK_IMPORTED_MODULE_0__.Vector.one()) {\n        this.position = positon;\n        this.rotation = rotation;\n        this.scale = scale;\n    }\n    static fromPosition(position) {\n        let transform = new Transform();\n        transform.position = position;\n        return transform;\n    }\n    clone() {\n        let ret = new Transform();\n        ret.position = this.position.clone();\n        ret.scale = this.scale.clone();\n        ret.rotation = this.rotation;\n        return ret;\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Helpers/Transform.ts?");

/***/ }),

/***/ "./src/Helpers/Vector.ts":
/*!*******************************!*\
  !*** ./src/Helpers/Vector.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Vector: () => (/* binding */ Vector)\n/* harmony export */ });\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math */ \"./src/Helpers/Math.ts\");\n\nclass Vector {\n    x = 0;\n    y = 0;\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    //standard operators\n    add(a) {\n        return new Vector(this.x + a.x, this.y + a.y);\n    }\n    sub(a) {\n        return new Vector(this.x - a.x, this.y - a.y);\n    }\n    times(a) {\n        return new Vector(this.x * a, this.y * a);\n    }\n    timesV(other) {\n        return new Vector(this.x * other.x, this.y * other.y);\n    }\n    //other operators \n    distance(other) {\n        return Math.sqrt(Math.pow(this.x - other.x, 2) + Math.pow(this.y - other.y, 2));\n    }\n    static distance(a, b) {\n        return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n    }\n    magnitude() {\n        return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n    }\n    cross() {\n        return new Vector(this.y, -this.x).toUnit();\n    }\n    scalarProduct(v) {\n        return this.x * v.x + this.y * v.y;\n    }\n    vectorProduct(v) {\n        return this.x * v.y - this.y * v.x;\n    }\n    perpendicular(n) {\n        return this.sub(n.cross().times((n.scalarProduct(this)) / (n.magnitude() * n.magnitude())));\n    }\n    toUnit() {\n        if (this.magnitude() != 0)\n            return new Vector(this.x, this.y).times(1 / this.magnitude());\n        else\n            return new Vector(1, 0);\n    }\n    setLength(length) {\n        return this.toUnit().times(length);\n    }\n    toString() {\n        return \"{\" + this.x + \":\" + this.y + \"}\";\n    }\n    toRad() {\n        return Math.atan2(this.y, this.x); // KƒÖt w radianach\n    }\n    reverse() {\n        let sx = 1e32;\n        let sy = 1e32;\n        if (this.x != 0)\n            sx = 1 / this.x;\n        if (this.y != 0)\n            sy = 1 / this.y;\n        return new Vector(sx, sy);\n    }\n    interpolate(target, k) {\n        const mx = target.sub(this);\n        const mv = mx.sub(mx.times(Math.min(1, Math.max(0, k))));\n        return this.add(mv);\n    }\n    static fromRad(rad) {\n        return new Vector(Math.cos(rad), Math.sin(rad));\n    }\n    static randomPos(range) {\n        return new Vector(_Math__WEBPACK_IMPORTED_MODULE_0__.GMath.symRand(range), _Math__WEBPACK_IMPORTED_MODULE_0__.GMath.symRand(range));\n    }\n    static randomPos2(range) {\n        let angle = _Math__WEBPACK_IMPORTED_MODULE_0__.GMath.symRand(Math.PI);\n        let distance = Math.random() * range;\n        return Vector.fromRad(angle).times(distance);\n    }\n    clone() {\n        return new Vector(this.x, this.y);\n    }\n    //consts\n    static zero() { return new Vector(0, 0); }\n    static one() { return new Vector(1, 1); }\n    static up() { return new Vector(0, 1); }\n    static down() { return new Vector(0, -1); }\n    static left() { return new Vector(-1, 0); }\n    static right() { return new Vector(1, 0); }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Helpers/Vector.ts?");

/***/ }),

/***/ "./src/Plugins/Camera.ts":
/*!*******************************!*\
  !*** ./src/Plugins/Camera.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CameraPlugin: () => (/* binding */ CameraPlugin)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n/* harmony import */ var _Mouse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mouse */ \"./src/Plugins/Mouse.ts\");\n/* harmony import */ var _Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Helpers/Commands */ \"./src/Helpers/Commands.ts\");\n/* harmony import */ var _CollisionDetection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CollisionDetection */ \"./src/Plugins/CollisionDetection.ts\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar CameraPlugin_1;\n\n\n\n\n\nlet CameraPlugin = CameraPlugin_1 = class CameraPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__.Plugin {\n    cameraPositon = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector(4, 0);\n    targetCameraPositon = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector(4, 0);\n    cameraScreenOffset = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector(100, 100);\n    followingSpeed = 0.02;\n    isFollowing = true;\n    scaleV = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector(20, -20);\n    scale = 20;\n    target = undefined; //todo: delete this\n    targetScale = 40;\n    name = \"CameraPlugin\";\n    start() {\n        this.getPlugin(_Mouse__WEBPACK_IMPORTED_MODULE_2__.MousePlugin).mouseScrollYEvent.subscribe(this, \"scroll\");\n        this.getPlugin(_Mouse__WEBPACK_IMPORTED_MODULE_2__.MousePlugin).mouseDownEvent.subscribe(this, \"down\");\n        this.getPlugin(_Mouse__WEBPACK_IMPORTED_MODULE_2__.MousePlugin).mouseUpEvent.subscribe(this, \"up\");\n    }\n    event(args, alias) {\n        if (alias == \"scroll\") {\n            const mouseArgs = args;\n            this.zoom(mouseArgs.delta);\n        }\n        //todo: delete this\n        else if (alias == \"down\") {\n            const mouseArgs = args;\n            if (mouseArgs.button != 1)\n                return;\n            if (this.target?.deref()) {\n                this.target = undefined;\n                return;\n            }\n            const mousePositonScreen = this.getPlugin(_Mouse__WEBPACK_IMPORTED_MODULE_2__.MousePlugin).getMouseScreenPosition();\n            const mousePositon = this.getWorldPosition(mousePositonScreen);\n            let gameObject = this.getPlugin(_CollisionDetection__WEBPACK_IMPORTED_MODULE_4__.CollisionDetectionPlugin).overlapPoint(mousePositon)[0]?.getGameObject();\n            if (gameObject)\n                this.target = new WeakRef(gameObject);\n        }\n        // else if (alias == \"up\") {\n        //     const mouseArgs = args as MouseClickEventArgs;\n        //     if (mouseArgs.button != 1) \n        //         return;\n        //     this.target = undefined;\n        // }\n    }\n    zoom(delta) {\n        delta = Math.sign(delta);\n        if (delta > 0 && this.targetScale * 0.9 > 10)\n            this.targetScale = 0.9 * this.targetScale;\n        if (delta < 0 && this.targetScale * 1.1 < 100)\n            this.targetScale = 1.1 * this.targetScale;\n    }\n    getWorldPosition(screenPositon) {\n        let scale = this.getPlugin(CameraPlugin_1).scaleV;\n        let cameraPosition = this.getPlugin(CameraPlugin_1).cameraPositon;\n        let worldPosition = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector((screenPositon.x - this.cameraScreenOffset.x) / scale.x, (screenPositon.y - this.cameraScreenOffset.y) / scale.y).add(cameraPosition);\n        return worldPosition;\n    }\n    update(delta) {\n        if (this.isFollowing)\n            this.cameraPositon = this.cameraPositon.interpolate(this.targetCameraPositon, Math.pow(this.followingSpeed, delta));\n        // this.scale += (this.targetScale-this.scale)*(2.5*delta);\n        this.scale += (this.targetScale - this.scale) * (1 - Math.pow(0.002, delta)); // (this.targetScale-this.scale)*(2.5*delta);\n        this.scaleV = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector(this.scale, -this.scale);\n        //todo: delete this\n        const target = this.target?.deref();\n        if (target) {\n            const mousePositonScreen = this.getPlugin(_Mouse__WEBPACK_IMPORTED_MODULE_2__.MousePlugin).getMouseScreenPosition();\n            const mousePositon = this.getWorldPosition(mousePositonScreen);\n            target.getTransform().position = target.getTransform().position.interpolate(mousePositon, Math.pow(0.001, delta));\n        }\n    }\n    getscale() {\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__.CommandResult(true, this.scaleV.toString(), this.scaleV);\n    }\n    follow(following) {\n        this.isFollowing = following;\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__.CommandResult(true, `Camera is ${following ? \"following\" : \"not following\"}`, undefined);\n    }\n    setzoom(zoom) {\n        this.targetScale = zoom;\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__.CommandResult(true, `Camera zoom set to ${zoom}`, undefined);\n    }\n};\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__.cli)(\"getscale\", undefined, \"number\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__.CommandResult)\n], CameraPlugin.prototype, \"getscale\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__.cli)(\"follow\", \"<following: boolean>\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Boolean]),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__.CommandResult)\n], CameraPlugin.prototype, \"follow\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__.cli)(\"zoom\", \"<zoom: number>\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Number]),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__.CommandResult)\n], CameraPlugin.prototype, \"setzoom\", null);\nCameraPlugin = CameraPlugin_1 = __decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_3__.cliPlugin)(\"camera\")\n], CameraPlugin);\n\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Camera.ts?");

/***/ }),

/***/ "./src/Plugins/CliPlugin.ts":
/*!**********************************!*\
  !*** ./src/Plugins/CliPlugin.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CliPlugin: () => (/* binding */ CliPlugin)\n/* harmony export */ });\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Helpers/Commands */ \"./src/Helpers/Commands.ts\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\nlet CliPlugin = class CliPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n    name = \"CliPlugin\";\n    globalCommands = new Map();\n    echo(message) {\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(true, message, message);\n    }\n    loop(iters, command) {\n        let ret = [];\n        let message = \"\";\n        for (let i = 0; i < iters; i++) {\n            const result = this.parseAndExecuteCommands(command);\n            if (!result.status) {\n                return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(false, `Error executing command: ${result.message}`, undefined);\n            }\n            ret.push(result.data);\n            message += `${result.message}\\n`;\n        }\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(true, message, ret);\n    }\n    true() {\n        const message = \"This is a true command\";\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(true, message, true);\n    }\n    false() {\n        const message = \"This is a false command\";\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(true, message, false);\n    }\n    int(value) {\n        const message = `This is an int command with value ${value}`;\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(true, message, parseInt(value));\n    }\n    float(value) {\n        const message = `This is a float command with value ${value}`;\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(true, message, parseFloat(value));\n    }\n    getrandomcolor() {\n        const randomColor = _Helpers_Color__WEBPACK_IMPORTED_MODULE_1__.rgb.randomColor2();\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(true, `Random color is ${randomColor}`, randomColor);\n    }\n    help() {\n        let superResult = super.help();\n        let message = `plugins:\\n`;\n        for (const plugin of this.gameWorld.getAllPlugins()) {\n            message += `/${plugin.cliGetName()}\\n`;\n        }\n        message = superResult.message + \"\\n\" + message;\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(true, message, undefined);\n    }\n    execute(command) {\n        try {\n            return this.parseAndExecuteCommands(command);\n        }\n        catch {\n            return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(false, \"Command execution failed\", undefined);\n        }\n    }\n    start() {\n        this.gameWorld.getAllPlugins().forEach(plugin => {\n            const pluginName = plugin.constructor.name;\n            try {\n                for (let command of Object.keys(plugin.constructor[\"commands\"])) {\n                    if (this.globalCommands.has(command))\n                        this.globalCommands.set(command, undefined);\n                    else\n                        this.globalCommands.set(command, pluginName);\n                }\n            }\n            catch { }\n        });\n    }\n    ;\n    parseAndExecuteCommands(input, depth = 0) {\n        console.log((\"---\".repeat(depth)) + \"Parsing: \" + input);\n        const args = [];\n        let current = '';\n        let inSingleQuote = false;\n        let inDoubleQuote = false;\n        let parenDepth = 0;\n        input = input.trim();\n        for (let i = 0; i < input.length; i++) {\n            const char = input[i];\n            if (parenDepth > 0) {\n                if (char === \"{\") {\n                    parenDepth++;\n                    current += char;\n                    continue;\n                }\n                if (char === \"}\") {\n                    parenDepth--;\n                    if (parenDepth === 0) {\n                        const result = this.parseAndExecuteCommands(current, depth + 1);\n                        // console.log(\"   \".repeat(depth)+result.message);\n                        args.push(result.data);\n                        current = '';\n                    }\n                    else\n                        current += char;\n                    continue;\n                }\n                current += char;\n                continue;\n            }\n            if (inDoubleQuote) {\n                if (char === \"\\\"\") {\n                    args.push(current);\n                    current = '';\n                    inDoubleQuote = false;\n                    continue;\n                }\n                current += char;\n                continue;\n            }\n            if (inSingleQuote) {\n                if (char === \"'\") {\n                    args.push(current);\n                    current = '';\n                    inSingleQuote = false;\n                    continue;\n                }\n                current += char;\n                continue;\n            }\n            if (char === \"\\\"\") {\n                inDoubleQuote = true;\n                continue;\n            }\n            if (char === \"'\") {\n                inSingleQuote = true;\n                continue;\n            }\n            if (char === \"{\") {\n                parenDepth++;\n                continue;\n            }\n            if (char === \" \") {\n                if (current.trim() !== \"\") {\n                    args.push(current);\n                    current = '';\n                }\n                continue;\n            }\n            current += char;\n        }\n        if (current.trim() !== \"\") {\n            args.push(current);\n        }\n        console.log(\"---\".repeat(depth) + \"Parsing result: \", args);\n        const fullCommand = args[0].split(':');\n        if (fullCommand.length === 2) {\n            const pluginName = fullCommand[0];\n            const plugin = this.gameWorld.getAllPlugins().find(p => p.cliGetName() === pluginName);\n            if (!plugin)\n                return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(false, `Plugin ${pluginName} not found`, undefined);\n            return this.executeParsedCommand(plugin, fullCommand[1], ...args.slice(1));\n        }\n        else if (fullCommand.length === 1) {\n            try {\n                if (!this.globalCommands.has(fullCommand[0]))\n                    return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(false, `Command ${fullCommand[0]} not found`, undefined);\n                const pluginName = this.globalCommands.get(fullCommand[0]);\n                if (!pluginName)\n                    return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(false, `More than one command found, use \"/plugin:command\" instead.`, undefined);\n                const plugin = this.gameWorld.getPluginByName(pluginName);\n                return this.executeParsedCommand(plugin, fullCommand[0], ...args.slice(1));\n            }\n            catch {\n                return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(false, \"Command not found or wrong syntax\", undefined);\n            }\n        }\n        else {\n            return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(false, \"No command found\", undefined);\n        }\n    }\n    executeParsedCommand(plugin, command, ...args) {\n        if (plugin.constructor[\"commands\"][command] === undefined) {\n            return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(false, `Command ${command} not found`, undefined);\n        }\n        try {\n            let commandToApply = plugin.constructor[\"commands\"][command];\n            let result = commandToApply.apply(plugin, args);\n            return result;\n        }\n        catch { }\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult(false, `Failed to execute command ${command} on ${plugin.cliGetName()}`, undefined);\n    }\n};\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.cli)(\"echo\", \"<message: string>\", \"string\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [String]),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult)\n], CliPlugin.prototype, \"echo\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.cli)(\"loop\", \"<iterations: int> <command: string>\", \"string\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Number, String]),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult)\n], CliPlugin.prototype, \"loop\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.cli)(\"true\", undefined, \"bool\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult)\n], CliPlugin.prototype, \"true\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.cli)(\"false\", undefined, \"bool\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult)\n], CliPlugin.prototype, \"false\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.cli)(\"int\", \"<value: string>\", \"number\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [String]),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult)\n], CliPlugin.prototype, \"int\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.cli)(\"float\", \"<value: string>\", \"number\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [String]),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult)\n], CliPlugin.prototype, \"float\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.cli)(\"randomcolor\", undefined, \"rgb\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult)\n], CliPlugin.prototype, \"getrandomcolor\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.cli)(\"help\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.CommandResult)\n], CliPlugin.prototype, \"help\", null);\nCliPlugin = __decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_2__.cliPlugin)(\"cli\")\n], CliPlugin);\n\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/CliPlugin.ts?");

/***/ }),

/***/ "./src/Plugins/Client.ts":
/*!*******************************!*\
  !*** ./src/Plugins/Client.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClientPlugin: () => (/* binding */ ClientPlugin)\n/* harmony export */ });\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n\n// import { ChatEventArgs, ChatPlugin } from \"./Chat\";\nclass ClientPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n    name = \"ClientPlugin\";\n    socket;\n    start() {\n        // this.getPlugin(ChatPlugin)?.chatMessageEvent.subscribe(this, \"chatMessageEvent\");\n        // this.socket = io('http://localhost:3000', {});\n        // this.socket.on('connect', () => this.onConnection());\n        // this.socket.on('disconnect', (reason: string) => this.onDisconnection(reason));\n        // this.socket.on('chat_message', (message: string) => this.onChatMessage(message));\n    }\n    event(args, alias) {\n        let chatArgs = args;\n        this.sendChatMessage(chatArgs.message);\n    }\n    onConnection() {\n        console.log('Connected to server');\n    }\n    onDisconnection(reason) {\n        console.log(`Disconnected from server: ${reason}`);\n    }\n    onChatMessage(message) {\n        console.log(`Received chat message: ${message}`);\n        // this.getPlugin(ChatPlugin)?.sendChatMessage(message, false);\n    }\n    sendChatMessage(message) {\n        this.socket.emit('chat_message', message);\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Client.ts?");

/***/ }),

/***/ "./src/Plugins/CollisionDetection.ts":
/*!*******************************************!*\
  !*** ./src/Plugins/CollisionDetection.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CollisionDetectionPlugin: () => (/* binding */ CollisionDetectionPlugin)\n/* harmony export */ });\n/* harmony import */ var _Components_Collider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Components/Collider */ \"./src/Components/Collider.ts\");\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n\n\n\n// export interface ICollision {\n//     onCollisionEnter(other: ColliderC): void;\n//     onCollisionExit(other: ColliderC): void;\n// }\nclass CollisionDetectionPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_2__.Plugin {\n    name = \"CollisionDetectionPlugin\";\n    cellSize = 5;\n    cells = new Map();\n    update() {\n        this.checkCollisions();\n    }\n    getCellKey(position) {\n        const cellX = Math.floor(position.x / this.cellSize);\n        const cellY = Math.floor(position.y / this.cellSize);\n        return new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__.Vector(cellX, cellY);\n    }\n    getNearbyCircles(key) {\n        const neighbors = [];\n        for (let dx = -1; dx <= 1; dx++)\n            for (let dy = -1; dy <= 1; dy++) {\n                const offset = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_1__.Vector(dx, dy);\n                const newKey = key.add(offset).toString();\n                if (this.cells.has(newKey))\n                    neighbors.push(...this.cells.get(newKey)?.map(c => c.deref()).filter(c => c != undefined) ?? []);\n            }\n        return neighbors;\n    }\n    overlapPoint(point) {\n        let colliders = this.getNearbyCircles(this.getCellKey(point));\n        colliders = colliders.filter(c => c.getCenter().sub(point).magnitude() < c.radius);\n        return colliders;\n    }\n    checkCollisions() {\n        this.cells.clear();\n        let AllColliders = this.gameWorld.getComponents(_Components_Collider__WEBPACK_IMPORTED_MODULE_0__.ColliderC);\n        for (const c of AllColliders) {\n            c.isActive = false;\n            let key = this.getCellKey(c.getCenter()).toString();\n            if (this.cells.has(key))\n                this.cells.get(key).push(new WeakRef(c));\n            else\n                this.cells.set(key, [new WeakRef(c)]);\n        }\n        for (const cellCircles of this.cells.values()) {\n            for (const mainCRef of cellCircles) {\n                const mainC = mainCRef.deref();\n                if (mainC === undefined)\n                    continue;\n                if (mainC.isStatic)\n                    continue;\n                let newCollisions = new Set();\n                let neighbors = this.getNearbyCircles(this.getCellKey(mainC.getCenter()));\n                for (const otherC of neighbors) {\n                    if (mainC === otherC)\n                        continue;\n                    if (mainC.collides(otherC)) {\n                        mainC.isActive = true;\n                        newCollisions.add(otherC);\n                        otherC.isActive = true;\n                    }\n                }\n                for (let newC of newCollisions)\n                    if (!mainC.collisions.has(newC))\n                        mainC.getComponent(_Components_Collider__WEBPACK_IMPORTED_MODULE_0__.ColliderC).onCollisionEnter(newC);\n                // for(let newC of newCollisions)\n                //     if(!mainC.collisions.has(newC))  \n                //         mainC.getAllComponents().filter(c => \"onCollisionEnter\" in c)\n                //         .forEach(c=> {try{(c as unknown as ICollision).onCollisionEnter(newC)}catch{}});\n                // for(let oldC of mainC.collisions)\n                //     if(!newCollisions.has(oldC))  \n                //         mainC.getAllComponents().filter(c => \"onCollisionExit\" in c)\n                //         .forEach(c=> {try{(c as unknown as ICollision).onCollisionExit(oldC)}catch{}});\n                mainC.collisions.clear();\n                mainC.collisions = newCollisions;\n            }\n        }\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/CollisionDetection.ts?");

/***/ }),

/***/ "./src/Plugins/Config.ts":
/*!*******************************!*\
  !*** ./src/Plugins/Config.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigPlugin: () => (/* binding */ ConfigPlugin)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n\n\nclass ConfigPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__.Plugin {\n    name = \"ConfigPlugin\";\n    config = new Map([\n        [\"bulletSize\", 0.75],\n        // [\"displayColliders\", true as any],\n        [\"playerSize\", 2.5],\n        [\"bulletColor\", new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(56, 57, 60)],\n        // [\"playerColor\", new Color(145, 125, 39) as any],\n        [\"playerColor\", new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(122, 111, 62)],\n        [\"playerColor\", new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(80, 37, 36)],\n        [\"playerColor\", new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(59, 94, 76)],\n        [\"playerColor\", new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(129, 49, 54)],\n        [\"playerColor\", new _Helpers_Color__WEBPACK_IMPORTED_MODULE_0__.rgb(130, 111, 51)],\n    ]);\n    get(key) {\n        if (!this.config.has(key))\n            return undefined;\n        return this.config.get(key);\n    }\n    set(key, value) {\n        this.config.set(key, value);\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Config.ts?");

/***/ }),

/***/ "./src/Plugins/Hud/Console.ts":
/*!************************************!*\
  !*** ./src/Plugins/Hud/Console.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsoleEventArgs: () => (/* binding */ ConsoleEventArgs),\n/* harmony export */   ConsolePlugin: () => (/* binding */ ConsolePlugin)\n/* harmony export */ });\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Core/Plugin */ \"./src/Core/Plugin.ts\");\n/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Keyboard */ \"./src/Plugins/Keyboard.ts\");\n/* harmony import */ var _Core_GameEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Core/GameEvent */ \"./src/Core/GameEvent.ts\");\n/* harmony import */ var _CliPlugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CliPlugin */ \"./src/Plugins/CliPlugin.ts\");\n/* harmony import */ var _Helpers_Commands__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Helpers/Commands */ \"./src/Helpers/Commands.ts\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\nclass ConsoleEventArgs extends _Core_GameEvent__WEBPACK_IMPORTED_MODULE_2__.EventArgs {\n    message;\n    constructor(message) {\n        super();\n        this.message = message;\n    }\n}\nlet ConsolePlugin = class ConsolePlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n    name = \"ConsolePlugin\";\n    isVisible = true;\n    consoleWrapper = document.createElement(\"div\");\n    buffer = \"\";\n    history = [\"\"];\n    historyIndex = 0;\n    constructor() {\n        super();\n        document.body.appendChild(this.consoleWrapper);\n        this.consoleWrapper.innerHTML = this.getInnerHtml();\n    }\n    start() {\n        this.getPlugin(_Keyboard__WEBPACK_IMPORTED_MODULE_1__.KeyboardPlugin).KeyDownEvent.subscribe(this, \"keydown\");\n        // try {\n        //     const input = this.consoleWrapper.querySelector(\".console-input\") as HTMLInputElement;\n        //     if (input == null) \n        //         return;\n        //     input.addEventListener(\"blur\", () => {\n        //         setTimeout(() => input.focus(), 0);\n        //     });\n        // } catch {}\n    }\n    update(delta) {\n    }\n    event(args, alias) {\n        if (alias == \"keydown\") {\n            const kargs = args;\n            if (kargs.key == \"t\")\n                this.isVisible = !this.isVisible;\n            try {\n                const input = this.consoleWrapper.querySelector(\".console-input\");\n                if (input == null)\n                    return;\n                if (this.isFocused()) {\n                    if (kargs.key == \"arrowup\") {\n                        if (this.historyIndex < this.history.length - 1) {\n                            this.historyIndex++;\n                            input.value = this.history[this.historyIndex];\n                        }\n                    }\n                    if (kargs.key == \"arrowdown\") {\n                        if (this.historyIndex > 0) {\n                            this.historyIndex--;\n                            console.log(this.historyIndex);\n                            console.log(this.history);\n                            input.value = this.history[this.historyIndex];\n                        }\n                    }\n                    if (kargs.key == \"escape\") {\n                        input.blur();\n                        input.value = \"\";\n                    }\n                }\n                if (kargs.key == \"enter\") {\n                    if (!this.isFocused())\n                        input.focus();\n                    else {\n                        const value = input.value.trim();\n                        if (value !== \"\") {\n                            input.value = \"\";\n                            console.log(\"Sending:\", value);\n                            this.messageEntered(value);\n                        }\n                        input.blur();\n                    }\n                }\n            }\n            catch { }\n        }\n    }\n    isFocused() {\n        try {\n            const input = this.consoleWrapper.querySelector(\".console-input\");\n            if (input == null)\n                return false;\n            return document.activeElement === input;\n        }\n        catch {\n            return false;\n        }\n    }\n    writeLine(message) {\n        this.buffer += message + \"\\r\\n\";\n        this.setStatus(\"white\");\n        this.updateConsole();\n    }\n    messageEntered(message) {\n        // this.chatMessageEvent.emit(new ChatEventArgs(message));\n        if (message.startsWith(\"/\")) {\n            this.buffer += message + \"\\n\";\n            const result = this.getPlugin(_CliPlugin__WEBPACK_IMPORTED_MODULE_3__.CliPlugin).execute(message.slice(1));\n            if (result.message != \"\")\n                this.buffer += result.message + \"\\r\\n\";\n            if (result.status)\n                this.setStatus(\"forestgreen\");\n            else\n                this.setStatus(\"crimson\");\n        }\n        else {\n            this.buffer += message + \"\\r\\n\";\n            this.setStatus(\"white\");\n        }\n        this.history[0] = message;\n        this.history.unshift(\"\");\n        this.historyIndex = 0;\n        // this.buffer += \"<hr class='console-item-separator'/>\";\n        this.updateConsole();\n    }\n    setStatus(status) {\n        try {\n            const statusBar = this.consoleWrapper.querySelector(\".console-status\");\n            if (statusBar == null)\n                return;\n            statusBar.style.backgroundColor = status.toString();\n        }\n        catch { }\n    }\n    updateConsole() {\n        this.setElementsHtml(this.buffer);\n    }\n    setElementsHtml(buffer) {\n        try {\n            const content = this.consoleWrapper.querySelector(\".console-content\");\n            if (content == null)\n                return;\n            content.innerHTML = \"\";\n            const lines = buffer.split(\"\\n\");\n            for (let i = 0; i < lines.length - 1; i++) {\n                const line = lines[i];\n                let span = document.createElement(\"span\");\n                span.textContent = line;\n                content.appendChild(span);\n                const separator = document.createElement(\"hr\");\n                separator.className = \"console-item-separator\";\n                if (line.endsWith(\"\\r\"))\n                    content.appendChild(separator);\n                else\n                    content.appendChild(document.createElement(\"br\"));\n            }\n        }\n        catch { }\n    }\n    getInnerHtml() {\n        const profiler = `\n            <style>\n                .console{\n                    ${this.isVisible ? \"\" : \"display: none;\"}\n                    position: fixed;\n                    top: 20px;\n                    right: 20px;\n                    \n                    width: 400px;\n                    padding: 20px;\n                    border-radius: 20px;\n                    background-color: rgba(42, 43, 46, 0.382);\n                    color: white;\n                    font-family: Roboto, sans-serif;\n                    pointer-events: none;\n                    overflow: hidden;\n                }\n                .console-status{\n                    margin: 7px 0;\n                    height: 6px;\n                    background-color: white;\n                    opacity: 0.5;\n                    border-radius: 999px;\n                }\n                .console-header{\n                    font-size: 20px;\n                    font-weight: bold;\n                    height: 40px;\n                    color: white;\n                    margin-bottom: 10px;\n                    user-select: none;\n                }\n                .console-input{\n                    width: 100%; \n                    padding: 5px 0;\n                    margin: 0;\n                    border-radius: 0; \n                    border: none; \n                    border-bottom: 1px solid rgba(240, 240, 240, 0.5);\n                    background-color: transparent; \n                    color: white;\n                    font-size: 20px;   \n                    font-family: Roboto, sans-serif; \n                }\n                .console *::selection {\n                    background-color: #546855;\n                    color: white;\n                }\n                .console-input:focus{\n                    outline: none; \n                    border-bottom: 1px solid rgba(240, 240, 240, 0.85);\n                }\n                .console-content-wrapper{\n                    position: relative;\n                    height: 600px;\n                    width: 100%;\n                    overflow: hidden;\n                    // border: 1px solid rgba(240, 240, 240, 0.25);\n                }\n                .console-content{\n                    word-wrap: break-word;\n                    position: absolute;\n                    width: 100%;\n                    line-height: 20px;\n                    bottom: 0;\n                }\n                .console-item-separator{\n                    border: none;\n                    border-top: 1px dashed gray;\n                    opacity: 0.75;\n                    margin: 9.5px 0;\n                }t\n            </style>\n\n            <div class=\"console\">\n                <div class=\"console-header\">\n                    <h2 style=\"margin: 0\">Console <span style=\"opacity: 0.5\">[T]</span></h2>\n                </div>\n                <div class=\"console-status\"></div>\n                <div class=\"console-content-wrapper\">\n                    <div class=\"console-content\"></div>\n                </div>\n                <input class=\"console-input\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" type=\"text\" tabindex=\"-1\" placeholder=\"Type your command here...\" />\n            </div>\n            `;\n        // <div class=\"console-header\">\n        //         <h2 style=\"margin: 0\">Console <span style=\"opacity: 0.5\">[T]</span></h2>\n        //     </div>\n        return profiler;\n    }\n    clearConsole() {\n        this.buffer = \"\";\n        this.updateConsole();\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_4__.CommandResult(true, \"\", undefined);\n    }\n};\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_4__.cli)(\"clear\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_4__.CommandResult)\n], ConsolePlugin.prototype, \"clearConsole\", null);\nConsolePlugin = __decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_4__.cliPlugin)(\"console\"),\n    __metadata(\"design:paramtypes\", [])\n], ConsolePlugin);\n\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Hud/Console.ts?");

/***/ }),

/***/ "./src/Plugins/Hud/Profiler.ts":
/*!*************************************!*\
  !*** ./src/Plugins/Hud/Profiler.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProfilerPlugin: () => (/* binding */ ProfilerPlugin)\n/* harmony export */ });\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Core/Plugin */ \"./src/Core/Plugin.ts\");\n/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Keyboard */ \"./src/Plugins/Keyboard.ts\");\n\n\nclass ProfilerPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n    name = \"ProfilerPlugin\";\n    size = 250;\n    isVisible = true;\n    profilerWrapper = document.createElement(\"div\");\n    usage = new Map();\n    constructor() {\n        super();\n    }\n    start() {\n        this.getPlugin(_Keyboard__WEBPACK_IMPORTED_MODULE_1__.KeyboardPlugin).KeyDownEvent.subscribe(this, \"keydown\");\n        document.body.appendChild(this.profilerWrapper);\n        this.addRecord(\"Fps\", 0);\n    }\n    lastTime = performance.now();\n    frames = 0;\n    fpsHistory = [];\n    update(delta) {\n        const fps = 1 / delta;\n        this.addRecord(\"Fps\", fps);\n        this.frames++;\n        const now = performance.now();\n        if (now - this.lastTime >= 250) {\n            this.fpsHistory.push(this.frames * 4);\n            if (this.fpsHistory.length > 100)\n                this.fpsHistory.shift();\n            this.frames = 0;\n            this.lastTime = now;\n        }\n        let i = 0;\n        let values = [];\n        for (const element of this.usage) {\n            let key = element[0];\n            let len = element[1].length;\n            let mean = 0;\n            for (const v of element[1])\n                mean += v;\n            mean /= len;\n            i++;\n            values.push(`${key}: ` + (mean).toFixed(2).toString());\n        }\n        this.profilerWrapper.innerHTML = this.getInnerHtml(values);\n    }\n    event(args, alias) {\n        if (alias == \"keydown\") {\n            const kargs = args;\n            if (kargs.key == \"p\")\n                this.isVisible = !this.isVisible;\n        }\n    }\n    addRecord(key, value) {\n        if (!this.usage.has(key)) {\n            this.usage.set(key, [value]);\n        }\n        else {\n            let usage = this.usage.get(key);\n            let len = usage.length;\n            if (len >= this.size) {\n                usage.shift();\n                usage.push(value);\n            }\n            else {\n                usage.push(value);\n            }\n        }\n    }\n    getChartHtml(values) {\n        values = values.slice(Math.max(0, values.length - 100), values.length);\n        const max = 200; //Math.max(...values);\n        let html = `<div class=\"profiler-chart\">`;\n        for (let i = 0; i < values.length; i++) {\n            html += `<div class=\"profiler-chart-item\" style=\"height: ${values[i] / max * 100}px\"></div>`;\n        }\n        html += `</div>`;\n        return html;\n    }\n    getElementsHtml(values) {\n        let html = \"\";\n        for (let i = 0; i < values.length; i++) {\n            if (i > 0)\n                html += `<hr class=\"profiler-item-separator\">`;\n            html +=\n                `<div class=\"profiler-item\">\n                <span class=\"profiler-item-key\">${values[i].split(\": \")[0]}:</span>\n                <span class=\"profiler-item-value\">${values[i].split(\": \")[1]}</span>\n            </div>`;\n        }\n        return html;\n    }\n    getInnerHtml(values) {\n        const profiler = `\n            <style>\n                .profiler{\n                    ${this.isVisible ? \"\" : \"display: none;\"}\n                    position: fixed;\n                    top: 20px;\n                    left: 20px;\n                    \n                    width: 400px;\n                    padding: 20px;\n                    border-radius: 20px;\n                    background-color: rgba(42, 43, 46, 0.382);\n                    color: white;\n                    font-family: Roboto, sans-serif;\n                    pointer-events: none;\n                }\n                .profiler-header{\n                    font-size: 20px;\n                    font-weight: bold;\n                    color: white;\n                    margin-bottom: 10px;\n                }\n                .profiler-item{\n                    // display: flex;\n                    // justify-content: space-between;\n                    padding: 5px 0;\n                    color:rgba(240, 240, 240, 0.85)\n                }\n                .profiler-item-key{\n                    margin-right: 10px;\n                }\n                .profiler-item-value{\n                    color: #f0f0f0;\n                }\n                .profiler-item-separator{\n                    border: none;\n                    border-top: 1px dashed gray;\n                    opacity: 0.75;\n                    margin: 2px 0;\n                }\n                .profiler-chart{\n                    display: flex;\n                    flex-direction: row;\n                    justify-content: space-between;\n                    align-items: flex-end;\n                    height: 100px;\n                    width: 100%;\n                    margin-bottom: 10px;\n                    border-radius: 10px;\n                    overflow: hidden;\n                    opacity: 0.25;\n                }\n                .profiler-chart-item{\n                    background-color: rgb(240, 240, 240);\n                    width: 100%;\n                    margin: 0;\n                }\n            </style>\n\n            <div class=\"profiler\">\n                <div class=\"profiler-header\">\n                    <h2 style=\"margin: 0\">Profiler <span style=\"opacity: 0.5\">[P]</span></h2>\n                </div>\n                ${this.getChartHtml(this.fpsHistory)}\n                ${this.getElementsHtml(values)}\n            </div>\n            `;\n        return profiler;\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Hud/Profiler.ts?");

/***/ }),

/***/ "./src/Plugins/Keyboard.ts":
/*!*********************************!*\
  !*** ./src/Plugins/Keyboard.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyboardEventArgs: () => (/* binding */ KeyboardEventArgs),\n/* harmony export */   KeyboardPlugin: () => (/* binding */ KeyboardPlugin)\n/* harmony export */ });\n/* harmony import */ var _Core_GameEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/GameEvent */ \"./src/Core/GameEvent.ts\");\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n\n\nclass KeyboardEventArgs extends _Core_GameEvent__WEBPACK_IMPORTED_MODULE_0__.EventArgs {\n    key;\n    constructor(key) {\n        super();\n        this.key = key;\n    }\n}\nclass KeyboardPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__.Plugin {\n    name = \"KeyboardPlugin\";\n    prevPressedKeys = new Set();\n    pressedKeys = new Set();\n    KeyDownEvent = new _Core_GameEvent__WEBPACK_IMPORTED_MODULE_0__.GameEvent();\n    constructor(pressedKeys) {\n        super();\n        this.pressedKeys = pressedKeys;\n    }\n    isPressed(key) {\n        return this.pressedKeys.has(key);\n    }\n    start() {\n        this.KeyDownEvent.register(this.gameWorld);\n    }\n    update(delta) {\n        this.pressedKeys.difference(this.prevPressedKeys).forEach(key => this.KeyDownEvent.emit(new KeyboardEventArgs(key)));\n        this.prevPressedKeys.clear();\n        this.pressedKeys.forEach(key => this.prevPressedKeys.add(key));\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Keyboard.ts?");

/***/ }),

/***/ "./src/Plugins/Mouse.ts":
/*!******************************!*\
  !*** ./src/Plugins/Mouse.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MouseClickEventArgs: () => (/* binding */ MouseClickEventArgs),\n/* harmony export */   MousePlugin: () => (/* binding */ MousePlugin),\n/* harmony export */   MouseScrollEventArgs: () => (/* binding */ MouseScrollEventArgs)\n/* harmony export */ });\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n/* harmony import */ var _Core_GameEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Core/GameEvent */ \"./src/Core/GameEvent.ts\");\n\n\n\nclass MouseScrollEventArgs extends _Core_GameEvent__WEBPACK_IMPORTED_MODULE_2__.EventArgs {\n    delta;\n    constructor(delta) {\n        super();\n        this.delta = delta;\n    }\n}\nclass MouseClickEventArgs extends _Core_GameEvent__WEBPACK_IMPORTED_MODULE_2__.EventArgs {\n    button;\n    constructor(button) {\n        super();\n        this.button = button;\n    }\n}\nclass MousePlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__.Plugin {\n    name = \"MousePlugin\";\n    mouseScrollYEvent = new _Core_GameEvent__WEBPACK_IMPORTED_MODULE_2__.GameEvent();\n    mouseDownEvent = new _Core_GameEvent__WEBPACK_IMPORTED_MODULE_2__.GameEvent();\n    mouseUpEvent = new _Core_GameEvent__WEBPACK_IMPORTED_MODULE_2__.GameEvent();\n    pressedKeys = new Set();\n    canvas;\n    position = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector.zero();\n    constructor(canvas) {\n        super();\n        this.canvas = canvas;\n        this.trackMouse(canvas);\n    }\n    start() {\n        this.mouseScrollYEvent.register(this.gameWorld);\n        this.mouseDownEvent.register(this.gameWorld);\n        this.mouseUpEvent.register(this.gameWorld);\n    }\n    isKeyDown(key = 0) {\n        return this.pressedKeys.has(key);\n    }\n    getMouseScreenPosition() {\n        const scale = window.devicePixelRatio || 1;\n        // const canvasSize = new Vector(this.canvas.width, this.canvas.height);\n        let screenPosition = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector((this.position.x * scale), (this.position.y * scale));\n        return screenPosition;\n    }\n    trackMouse(canvas) {\n        canvas.addEventListener(\"mousemove\", (event) => {\n            const rect = canvas.getBoundingClientRect();\n            let x = event.clientX - rect.left;\n            let y = event.clientY - rect.top;\n            this.position = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_0__.Vector(x, y);\n        });\n        canvas.addEventListener(\"mousedown\", (event) => {\n            this.pressedKeys.add(event.button);\n            this.mouseDownEvent.emit(new MouseClickEventArgs(event.button));\n        });\n        canvas.addEventListener(\"mouseup\", (event) => {\n            this.pressedKeys.delete(event.button);\n            this.mouseUpEvent.emit(new MouseClickEventArgs(event.button));\n        });\n        canvas.addEventListener(\"wheel\", (event) => {\n            this.mouseScrollYEvent.emit(new MouseScrollEventArgs(event.deltaY));\n        });\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Mouse.ts?");

/***/ }),

/***/ "./src/Plugins/Physics.ts":
/*!********************************!*\
  !*** ./src/Plugins/Physics.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PhysicsPlugin: () => (/* binding */ PhysicsPlugin)\n/* harmony export */ });\n/* harmony import */ var _Components_RigidBody__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Components/RigidBody */ \"./src/Components/RigidBody.ts\");\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n\n\nclass PhysicsPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__.Plugin {\n    name = \"PhysicsPlugin\";\n    update(delta) {\n        const totalDelta = this.gameWorld.getWorldTime();\n        this.gameWorld.getComponents(_Components_RigidBody__WEBPACK_IMPORTED_MODULE_0__.RigidBodyC).forEach(rigidBody => rigidBody.update(delta));\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Physics.ts?");

/***/ }),

/***/ "./src/Plugins/Player.ts":
/*!*******************************!*\
  !*** ./src/Plugins/Player.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PlayerPlugin: () => (/* binding */ PlayerPlugin)\n/* harmony export */ });\n/* harmony import */ var _Components_Canon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Components/Canon */ \"./src/Components/Canon.ts\");\n/* harmony import */ var _Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Components/Renderers/PolygonRenderer */ \"./src/Components/Renderers/PolygonRenderer.ts\");\n/* harmony import */ var _Components_RigidBody__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Components/RigidBody */ \"./src/Components/RigidBody.ts\");\n/* harmony import */ var _GameObjectFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../GameObjectFactory */ \"./src/GameObjectFactory.ts\");\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Keyboard */ \"./src/Plugins/Keyboard.ts\");\n/* harmony import */ var _Mouse__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Mouse */ \"./src/Plugins/Mouse.ts\");\n/* harmony import */ var _Config__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Config */ \"./src/Plugins/Config.ts\");\n/* harmony import */ var _Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Helpers/Commands */ \"./src/Helpers/Commands.ts\");\n/* harmony import */ var _Camera__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _Hud_Console__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Hud/Console */ \"./src/Plugins/Hud/Console.ts\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass PlayerPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_6__.Plugin {\n    name = \"PlayerPlugin\";\n    playerName = \"player\";\n    player = _GameObjectFactory__WEBPACK_IMPORTED_MODULE_3__.GameObjectFactory.playerGO();\n    isIoBlocked = false;\n    getPlayerPosition() {\n        return this.player.getTransform().position.clone();\n    }\n    getPlayerColor() {\n        return this.player.getComponent(_Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_1__.PolygonRendererC).color.clone();\n    }\n    start() {\n        this.respawn();\n        this.player.getComponent(_Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_1__.PolygonRendererC).color = this.getPlugin(_Config__WEBPACK_IMPORTED_MODULE_9__.ConfigPlugin)?.get(\"playerColor\") ?? new _Helpers_Color__WEBPACK_IMPORTED_MODULE_4__.rgb(53, 110, 58);\n        this.getPlugin(_Keyboard__WEBPACK_IMPORTED_MODULE_7__.KeyboardPlugin)?.KeyDownEvent.subscribe(this, \"KeyDownEvent\");\n    }\n    event(args, alias) {\n        if (this.isIoBlocked)\n            return;\n        if (alias === \"KeyDownEvent\") {\n            let keyArgs = args;\n            if (keyArgs.key === \"r\") {\n                this.respawn();\n            }\n            else if (keyArgs.key === \"c\") {\n                let displayColliders = this.getPlugin(_Config__WEBPACK_IMPORTED_MODULE_9__.ConfigPlugin)?.get(\"displayColliders\") ?? false;\n                if (displayColliders !== undefined)\n                    this.getPlugin(_Config__WEBPACK_IMPORTED_MODULE_9__.ConfigPlugin)?.set(\"displayColliders\", !displayColliders);\n            }\n        }\n    }\n    // color: rgb = new rgb(53, 110, 58);\n    // target: rgb = new rgb(53, 110, 58);\n    update(delta) {\n        // if (Math.random() < 0.05){\n        //   this.target=rgb.randomColor2();\n        //   // this.getPlugin(CliPlugin)?.execute(\"player:setcolor {randomcolor}\");\n        // }\n        // this.color = this.color.blend(this.target, 0.02);\n        // this.player.getComponent(PolygonRendererC).color = this.color;\n        let camera = this.getPlugin(_Camera__WEBPACK_IMPORTED_MODULE_11__.CameraPlugin);\n        camera.targetCameraPositon = this.player.getTransform().position.clone();\n        this.isIoBlocked = this.getPlugin(_Hud_Console__WEBPACK_IMPORTED_MODULE_12__.ConsolePlugin)?.isFocused() ?? false;\n        if (this.isIoBlocked)\n            return;\n        if (!this.player.enabled)\n            return;\n        let mouse = this.getPlugin(_Mouse__WEBPACK_IMPORTED_MODULE_8__.MousePlugin);\n        let keyboard = this.getPlugin(_Keyboard__WEBPACK_IMPORTED_MODULE_7__.KeyboardPlugin);\n        let gun = this.player.getComponent(_Components_Canon__WEBPACK_IMPORTED_MODULE_0__.CanonC);\n        if (!gun)\n            return;\n        gun.targetDirection = camera.getWorldPosition(mouse.getMouseScreenPosition()).sub(this.player.getTransform().position);\n        gun.range = camera.getWorldPosition(mouse.getMouseScreenPosition()).sub(this.player.getTransform().position.add(gun.getGlobalOffset())).magnitude();\n        if (keyboard.isPressed(\"e\") || mouse.isKeyDown(0))\n            gun.shoot();\n        const g = -25;\n        const a = keyboard.isPressed(\"shift\") ? 120 : 60;\n        const vmax = 50.0;\n        const rotation = this.player.getTransform().rotation;\n        const direction = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_5__.Vector.fromRad(rotation);\n        const turnSpeed = 2.5;\n        let rigidBody = this.player.getComponent(_Components_RigidBody__WEBPACK_IMPORTED_MODULE_2__.RigidBodyC);\n        let velocity = rigidBody.velocity;\n        // Przyspieszanie\n        if (keyboard.isPressed(\"w\")) {\n            rigidBody.acceleration = direction.toUnit().times(a);\n            if (keyboard.isPressed(\"s\"))\n                rigidBody.acceleration = direction.toUnit().times(-g);\n        }\n        else if (keyboard.isPressed(\"s\"))\n            rigidBody.acceleration = direction.toUnit().times(g);\n        else\n            rigidBody.acceleration = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_5__.Vector.zero();\n        velocity = velocity.sub(velocity.perpendicular(direction));\n        if (velocity.magnitude() > vmax)\n            velocity.setLength(vmax);\n        if (keyboard.isPressed(\"a\"))\n            rigidBody.angularVelocity = turnSpeed;\n        else if (keyboard.isPressed(\"d\"))\n            rigidBody.angularVelocity = -turnSpeed;\n        else\n            rigidBody.angularVelocity = 0;\n    }\n    cliGetName() {\n        return \"player\";\n    }\n    setname(newName) {\n        this.playerName = newName;\n        this.player.name = newName;\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.CommandResult(true, `Player name set to ${newName}`, undefined);\n    }\n    setcolor(color) {\n        try {\n            let newColor = _Helpers_Color__WEBPACK_IMPORTED_MODULE_4__.rgb.tryParseCssColor(color.toString());\n            if (newColor)\n                this.player.getComponent(_Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_1__.PolygonRendererC).color = newColor;\n        }\n        catch { }\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.CommandResult(true, `Player color set`, undefined);\n    }\n    respawn() {\n        if (this.player && this.gameWorld.isSpawned(this.player))\n            this.gameWorld.destroy(this.player);\n        this.player = _GameObjectFactory__WEBPACK_IMPORTED_MODULE_3__.GameObjectFactory.playerGO();\n        this.player.name = this.playerName;\n        this.player.spawn(this.gameWorld);\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.CommandResult(true, `Player respawned`, undefined);\n    }\n    getcolor() {\n        return new _Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.CommandResult(true, `Player color is ${this.player.getComponent(_Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_1__.PolygonRendererC).color}`, this.player.getComponent(_Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_1__.PolygonRendererC).color);\n    }\n}\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.cli)(\"setname\", \"<name: string>\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [String]),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.CommandResult)\n], PlayerPlugin.prototype, \"setname\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.cli)(\"setcolor\", \"<color: string | rgb>\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.CommandResult)\n], PlayerPlugin.prototype, \"setcolor\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.cli)(\"respawn\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.CommandResult)\n], PlayerPlugin.prototype, \"respawn\", null);\n__decorate([\n    (0,_Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.cli)(\"getcolor\", undefined, \"rgb\"),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", _Helpers_Commands__WEBPACK_IMPORTED_MODULE_10__.CommandResult)\n], PlayerPlugin.prototype, \"getcolor\", null);\n//     public override fixedUpdate(delta: number): void {\n//         const speed = 18;\n//         let vmax = 30.0;\n//         let keyboard = this.getPlugin(KeyboardPlugin);\n//         let rigidBody = this.player.getComponent(RigidBodyC);\n//         let vx = rigidBody.velocity.x;\n//         let vy = rigidBody.velocity.y;\n//         if (keyboard.isKeyDown(\"w\")) {\n//           vy += speed*delta;\n//           vy = speed;\n//         }\n//         if (keyboard.isKeyDown(\"s\")) {\n//           vy += -speed*delta;\n//           vy = -speed;\n//         }\n//         if (keyboard.isKeyDown(\"a\")) {\n//           vx += -speed*delta;\n//           vx = -speed;\n//         }\n//         if (keyboard.isKeyDown(\"d\")) {\n//           vx += speed*delta;\n//           vx = speed;\n//         }\n//         let newVelocity = new Vector(vx, vy);\n//         if(newVelocity.magnitude()>vmax)\n//             newVelocity = newVelocity.toUnit().times(vmax);\n//         rigidBody.velocity = newVelocity;\n//         if (newVelocity.magnitude()!=0)\n//           this.player.getTransform().rotation = newVelocity.toRad();\n//     }\n// }\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Player.ts?");

/***/ }),

/***/ "./src/Plugins/Renderer.ts":
/*!*********************************!*\
  !*** ./src/Plugins/Renderer.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RendererPlugin: () => (/* binding */ RendererPlugin)\n/* harmony export */ });\n/* harmony import */ var _Components_Renderers_ColliderRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Components/Renderers/ColliderRenderer */ \"./src/Components/Renderers/ColliderRenderer.ts\");\n/* harmony import */ var _Components_Renderers_BarRenderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Components/Renderers/BarRenderer */ \"./src/Components/Renderers/BarRenderer.ts\");\n/* harmony import */ var _Components_Renderers_TextRenderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Components/Renderers/TextRenderer */ \"./src/Components/Renderers/TextRenderer.ts\");\n/* harmony import */ var _Helpers_Color__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Helpers/Color */ \"./src/Helpers/Color.ts\");\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n/* harmony import */ var _Camera__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _Components_Renderers_ImageRenderer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Components/Renderers/ImageRenderer */ \"./src/Components/Renderers/ImageRenderer.ts\");\n/* harmony import */ var _Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Components/Renderers/PolygonRenderer */ \"./src/Components/Renderers/PolygonRenderer.ts\");\n/* harmony import */ var _Components_Renderers_CanonRenderer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Components/Renderers/CanonRenderer */ \"./src/Components/Renderers/CanonRenderer.ts\");\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Components_Renderers_ChasisRenderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Components/Renderers/ChasisRenderer */ \"./src/Components/Renderers/ChasisRenderer.ts\");\n/* harmony import */ var _Components_Renderers_TracesRenderer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Components/Renderers/TracesRenderer */ \"./src/Components/Renderers/TracesRenderer.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\nclass RendererPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_4__.Plugin {\n    name = \"RendererPlugin\";\n    context;\n    renderDistance = 150;\n    constructor(context) {\n        super();\n        this.context = context;\n    }\n    addVignetteEffect(context, color) {\n        const centerX = context.canvas.width / 2;\n        const centerY = context.canvas.height / 2;\n        const maxRadius = Math.sqrt(centerX * centerX + centerY * centerY);\n        const gradient = context.createRadialGradient(centerX, centerY, 0, centerX, centerY, maxRadius);\n        gradient.addColorStop(0.025, 'rgba(0, 0, 0, 0)');\n        gradient.addColorStop(1, color);\n        context.fillStyle = gradient;\n        context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n    }\n    gridCanvas = [];\n    start() {\n        ////\n        this.context.imageSmoothingEnabled = true;\n        this.context.strokeStyle = \"rgb(43,43,44)\";\n        this.context.lineWidth = 0.175;\n        this.context.lineJoin = \"round\";\n        this.context.shadowColor = 'rgba(0, 0, 0, 0.75)';\n        this.context.fillStyle = \"#716f6b\";\n        this.context.fillStyle = \"rgb(85, 106, 86)\";\n        this.context.fillStyle = \"rgb(66, 85, 68)\";\n        ////\n        let worker = new Worker(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(\"src_Components_Renderers_BackgroundRenderer_ts\"), __webpack_require__.b), { type: \"module\" }); //this.drawDotGrid(ctx, new Vector(2.5, 2.5), 0.175, rgb.stroke.toString(), new Vector(i*4+5, i*4+5));\n        for (let i = 0; i < 10; i++) {\n            this.gridCanvas[i] = document.createElement(\"canvas\");\n            this.gridCanvas[i].width = 3440;\n            this.gridCanvas[i].height = 1440;\n            document.createElement(\"canvas\");\n            const offscreen = this.gridCanvas[i].transferControlToOffscreen();\n            worker.postMessage({ canvas: offscreen, args: [new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_9__.Vector(2, 2), 0.175, _Helpers_Color__WEBPACK_IMPORTED_MODULE_3__.rgb.stroke.toString(), new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_9__.Vector(i * 5 + 5, i * 5 + 5)] }, [offscreen]);\n        }\n    }\n    clip(position) {\n        const width = this.context.canvas.width;\n        const height = this.context.canvas.height;\n        const scale = this.getPlugin(_Camera__WEBPACK_IMPORTED_MODULE_5__.CameraPlugin).scaleV;\n        const cameraPositon = this.getPlugin(_Camera__WEBPACK_IMPORTED_MODULE_5__.CameraPlugin).cameraPositon;\n        const xClip = Math.abs(width / 2 / scale.x);\n        const yClip = Math.abs(height / 2 / scale.y);\n        return Math.abs(position.x - cameraPositon.x) > xClip || Math.abs(position.y - cameraPositon.y) > yClip;\n    }\n    update(delta) {\n        const width = this.context.canvas.width;\n        const height = this.context.canvas.height;\n        // this.context.fillStyle =\"rgb(66, 85, 68)\";\n        // this.context.fillStyle =\"rgb(105, 111, 105)\";\n        this.context.fillStyle = \"rgba(80, 100, 81, 1)\";\n        this.context.fillRect(0, 0, width, height);\n        this.getPlugin(_Camera__WEBPACK_IMPORTED_MODULE_5__.CameraPlugin).cameraScreenOffset = new _Helpers_Vector__WEBPACK_IMPORTED_MODULE_9__.Vector(this.context.canvas.width / 2, this.context.canvas.height / 2);\n        // let gx = Math.sqrt(3);\n        // let gy = 3;\n        let gx = 2;\n        let gy = 2;\n        const offset = this.getPlugin(_Camera__WEBPACK_IMPORTED_MODULE_5__.CameraPlugin).cameraScreenOffset;\n        const scale = this.getPlugin(_Camera__WEBPACK_IMPORTED_MODULE_5__.CameraPlugin).scaleV;\n        const cpos = this.getPlugin(_Camera__WEBPACK_IMPORTED_MODULE_5__.CameraPlugin).cameraPositon;\n        let i = Math.max(0, Math.min(9, Math.round(scale.x / 10)));\n        let c = i * 5 + 5;\n        this.context.translate(offset.x, offset.y);\n        this.context.scale(scale.x, scale.y);\n        this.context.translate((-cpos.x) % gx, (-cpos.y) % gy);\n        this.context.scale(1 / c, 1 / c);\n        this.context.drawImage(this.gridCanvas[i], -this.gridCanvas[i].width / 2, -this.gridCanvas[i].height / 2, this.gridCanvas[i].width, this.gridCanvas[i].height);\n        this.context.setTransform(1, 0, 0, 1, 0, 0);\n        this.gameWorld.getComponents(_Components_Renderers_TextRenderer__WEBPACK_IMPORTED_MODULE_2__.TextRendererC)\n            .concat(this.gameWorld.getComponents(_Components_Renderers_ColliderRenderer__WEBPACK_IMPORTED_MODULE_0__.ColliderRendererC))\n            .concat(this.gameWorld.getComponents(_Components_Renderers_BarRenderer__WEBPACK_IMPORTED_MODULE_1__.BarRendererC))\n            .concat(this.gameWorld.getComponents(_Components_Renderers_PolygonRenderer__WEBPACK_IMPORTED_MODULE_7__.PolygonRendererC))\n            .concat(this.gameWorld.getComponents(_Components_Renderers_ImageRenderer__WEBPACK_IMPORTED_MODULE_6__.ImageRendererC))\n            .filter(renderer => !this.clip(renderer.getTransform().position))\n            .concat(this.gameWorld.getComponents(_Components_Renderers_CanonRenderer__WEBPACK_IMPORTED_MODULE_8__.CanonRendererC))\n            .concat(this.gameWorld.getComponents(_Components_Renderers_TracesRenderer__WEBPACK_IMPORTED_MODULE_11__.TracesRendererC))\n            .concat(this.gameWorld.getComponents(_Components_Renderers_ChasisRenderer__WEBPACK_IMPORTED_MODULE_10__.ChasisRendererC))\n            .filter(renderer => !this.clip(renderer.getTransform().position))\n            .sort((a, b) => a.zindex - b.zindex).forEach(renderer => renderer.render(this.context));\n        // this.gameWorld.getAllComponents<RendererC>(RendererC.name).forEach(renderer => renderer.render(this.context));\n        this.addVignetteEffect(this.context, 'rgba(0, 0, 0, 0.35)');\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Renderer.ts?");

/***/ }),

/***/ "./src/Plugins/Scheduler.ts":
/*!**********************************!*\
  !*** ./src/Plugins/Scheduler.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SchedulerPlugin: () => (/* binding */ SchedulerPlugin)\n/* harmony export */ });\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n\nclass SchedulerPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n    name = \"SchedulerPlugin\";\n    schedule = [];\n    addInvoke(subscriber, totalTime, topic) {\n        let sub = new WeakRef(subscriber);\n        this.schedule.push({ totalTime, subscriber: sub, topic });\n        this.schedule.sort((a, b) => b.totalTime - a.totalTime);\n    }\n    update(delta) {\n        const totalDelta = this.gameWorld.getWorldTime();\n        if (this.schedule.length != 0)\n            while (this.schedule.length != 0 && this.schedule[this.schedule.length - 1].totalTime <= totalDelta) {\n                let last = this.schedule.pop();\n                last.subscriber.deref()?.onInvoke(last.topic);\n            }\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/Scheduler.ts?");

/***/ }),

/***/ "./src/Plugins/StandaloneComponent.ts":
/*!********************************************!*\
  !*** ./src/Plugins/StandaloneComponent.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StandaloneComponentPlugin: () => (/* binding */ StandaloneComponentPlugin)\n/* harmony export */ });\n/* harmony import */ var _Components_StandaloneComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Components/StandaloneComponent */ \"./src/Components/StandaloneComponent.ts\");\n/* harmony import */ var _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Core/Plugin */ \"./src/Core/Plugin.ts\");\n\n\nclass StandaloneComponentPlugin extends _Core_Plugin__WEBPACK_IMPORTED_MODULE_1__.Plugin {\n    name = \"StandaloneComponentPlugin\";\n    update(delta) {\n        this.gameWorld.getAllComponents()\n            .filter(component => component instanceof _Components_StandaloneComponent__WEBPACK_IMPORTED_MODULE_0__.StandaloneComponent)\n            .map(component => component)\n            .forEach(component => component.tick(delta));\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Plugins/StandaloneComponent.ts?");

/***/ }),

/***/ "./src/Worlds/MyWorld.ts":
/*!*******************************!*\
  !*** ./src/Worlds/MyWorld.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MyWorld: () => (/* binding */ MyWorld)\n/* harmony export */ });\n/* harmony import */ var _Components_RigidBody__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Components/RigidBody */ \"./src/Components/RigidBody.ts\");\n/* harmony import */ var _GameObjectFactory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../GameObjectFactory */ \"./src/GameObjectFactory.ts\");\n/* harmony import */ var _Core_GameWorld__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Core/GameWorld */ \"./src/Core/GameWorld.ts\");\n/* harmony import */ var _Helpers_Vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Helpers/Vector */ \"./src/Helpers/Vector.ts\");\n/* harmony import */ var _Components_Canon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Components/Canon */ \"./src/Components/Canon.ts\");\n/* harmony import */ var _Components_Npc__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Components/Npc */ \"./src/Components/Npc.ts\");\n/* harmony import */ var _Helpers_Math__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Helpers/Math */ \"./src/Helpers/Math.ts\");\n/* harmony import */ var _Components_Renderers_CanonRenderer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Components/Renderers/CanonRenderer */ \"./src/Components/Renderers/CanonRenderer.ts\");\n\n\n\n\n\n\n\n\nclass MyWorld extends _Core_GameWorld__WEBPACK_IMPORTED_MODULE_2__.GameWorld {\n    Start() {\n        console.log(\"Hello, MyWorld!\");\n        const r = 350;\n        for (let i = 0; i < 550; i++) {\n            const radius = 3 + _Helpers_Math__WEBPACK_IMPORTED_MODULE_6__.GMath.symRand(0.25);\n            let sqr = _GameObjectFactory__WEBPACK_IMPORTED_MODULE_1__.GameObjectFactory.polygonGO(radius / 2, 4);\n            sqr.getTransform().position = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_3__.Vector.randomPos(r);\n            sqr.getComponent(_Components_RigidBody__WEBPACK_IMPORTED_MODULE_0__.RigidBodyC).angularVelocity = Math.random() * 2 - 1;\n            this.spawn(sqr);\n        }\n        for (let i = 0; i < 250; i++) {\n            const radius = 3.5 + _Helpers_Math__WEBPACK_IMPORTED_MODULE_6__.GMath.symRand(0.25);\n            let triangle = _GameObjectFactory__WEBPACK_IMPORTED_MODULE_1__.GameObjectFactory.polygonGO(radius / 2, 3);\n            triangle.getTransform().position = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_3__.Vector.randomPos(r);\n            triangle.getComponent(_Components_RigidBody__WEBPACK_IMPORTED_MODULE_0__.RigidBodyC).angularVelocity = Math.random() * 2 - 1;\n            this.spawn(triangle);\n        }\n        for (let i = 0; i < 350; i++) {\n            const radius = 4 + _Helpers_Math__WEBPACK_IMPORTED_MODULE_6__.GMath.symRand(0.25);\n            let polygon = _GameObjectFactory__WEBPACK_IMPORTED_MODULE_1__.GameObjectFactory.polygonGO(radius / 2, Math.round(Math.random() * 3) + 5);\n            polygon.getTransform().position = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_3__.Vector.randomPos(r);\n            polygon.getComponent(_Components_RigidBody__WEBPACK_IMPORTED_MODULE_0__.RigidBodyC).angularVelocity = Math.random() * 2 - 1;\n            this.spawn(polygon);\n        }\n        // for(let i = 0; i < 225; i++){\n        //     const radius = 3+GMath.symRand(0.25);\n        //     let polygon = GameObjectFactory.polygonGO(\n        //         radius/2, \n        //         Math.round(Math.random()*3)+5,\n        //         new ImageRendererC(Vector.zero(), undefined, undefined, 12)\n        //     );\n        //     polygon.getTransform().position = new Vector(Math.random()*2*r-r, Math.random()*2*r-r);\n        //     polygon.getComponent(RigidBodyC).angularVelocity = Math.random()*2-1;\n        //     polygon.getComponent(PolygonRendererC).enable(false);\n        //     this.spawn(polygon);\n        // }\n        for (let i = 0; i < 25; i++) {\n            let follower = _GameObjectFactory__WEBPACK_IMPORTED_MODULE_1__.GameObjectFactory.enemyGO(2.5, \"Enemy nr.\" + i, 4, new _Components_Canon__WEBPACK_IMPORTED_MODULE_4__.CanonC(undefined, undefined, 10 + Math.random() * 5), new _Components_Renderers_CanonRenderer__WEBPACK_IMPORTED_MODULE_7__.CanonRendererC(4 - 0.1), new _Components_Npc__WEBPACK_IMPORTED_MODULE_5__.NpcC());\n            follower.getTransform().position = _Helpers_Vector__WEBPACK_IMPORTED_MODULE_3__.Vector.randomPos(r);\n            follower.spawn(this);\n        }\n    }\n    Update(delta) {\n    }\n}\n\n\n//# sourceURL=webpack://gameengine/./src/Worlds/MyWorld.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   main: () => (/* binding */ main)\n/* harmony export */ });\n/* harmony import */ var _Worlds_MyWorld__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Worlds/MyWorld */ \"./src/Worlds/MyWorld.ts\");\n/* harmony import */ var _Plugins_Renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Plugins/Renderer */ \"./src/Plugins/Renderer.ts\");\n/* harmony import */ var _Plugins_Physics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Plugins/Physics */ \"./src/Plugins/Physics.ts\");\n/* harmony import */ var _Plugins_Keyboard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Plugins/Keyboard */ \"./src/Plugins/Keyboard.ts\");\n/* harmony import */ var _Plugins_Mouse__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Plugins/Mouse */ \"./src/Plugins/Mouse.ts\");\n/* harmony import */ var _Plugins_Player__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Plugins/Player */ \"./src/Plugins/Player.ts\");\n/* harmony import */ var _Plugins_Camera__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Plugins/Camera */ \"./src/Plugins/Camera.ts\");\n/* harmony import */ var _Plugins_Config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Plugins/Config */ \"./src/Plugins/Config.ts\");\n/* harmony import */ var _Plugins_CollisionDetection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Plugins/CollisionDetection */ \"./src/Plugins/CollisionDetection.ts\");\n/* harmony import */ var _Plugins_StandaloneComponent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Plugins/StandaloneComponent */ \"./src/Plugins/StandaloneComponent.ts\");\n/* harmony import */ var _Plugins_Scheduler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Plugins/Scheduler */ \"./src/Plugins/Scheduler.ts\");\n/* harmony import */ var _Plugins_Hud_Profiler__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Plugins/Hud/Profiler */ \"./src/Plugins/Hud/Profiler.ts\");\n/* harmony import */ var _Plugins_Client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Plugins/Client */ \"./src/Plugins/Client.ts\");\n/* harmony import */ var _Plugins_CliPlugin__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Plugins/CliPlugin */ \"./src/Plugins/CliPlugin.ts\");\n/* harmony import */ var _Plugins_Hud_Console__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Plugins/Hud/Console */ \"./src/Plugins/Hud/Console.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { ChatPlugin } from \"./Plugins/Chat\";\n\n\nconst pressedKeys = new Set();\ndocument.addEventListener(\"keydown\", (event) => {\n    pressedKeys.add(event.key.toLowerCase());\n});\ndocument.addEventListener(\"keyup\", (event) => {\n    pressedKeys.delete(event.key.toLowerCase());\n});\nasync function main(canvas, chatInput, chat) {\n    let plugins = [];\n    plugins.push(new _Plugins_Config__WEBPACK_IMPORTED_MODULE_7__.ConfigPlugin());\n    plugins.push(new _Plugins_Client__WEBPACK_IMPORTED_MODULE_12__.ClientPlugin());\n    // plugins.push(new ChatPlugin(chatInput, chat));\n    plugins.push(new _Plugins_CliPlugin__WEBPACK_IMPORTED_MODULE_13__.CliPlugin());\n    plugins.push(new _Plugins_Keyboard__WEBPACK_IMPORTED_MODULE_3__.KeyboardPlugin(pressedKeys));\n    plugins.push(new _Plugins_Mouse__WEBPACK_IMPORTED_MODULE_4__.MousePlugin(canvas));\n    plugins.push(new _Plugins_Scheduler__WEBPACK_IMPORTED_MODULE_10__.SchedulerPlugin());\n    plugins.push(new _Plugins_Player__WEBPACK_IMPORTED_MODULE_5__.PlayerPlugin());\n    plugins.push(new _Plugins_Physics__WEBPACK_IMPORTED_MODULE_2__.PhysicsPlugin());\n    plugins.push(new _Plugins_Camera__WEBPACK_IMPORTED_MODULE_6__.CameraPlugin());\n    plugins.push(new _Plugins_Hud_Console__WEBPACK_IMPORTED_MODULE_14__.ConsolePlugin());\n    plugins.push(new _Plugins_Hud_Profiler__WEBPACK_IMPORTED_MODULE_11__.ProfilerPlugin());\n    plugins.push(new _Plugins_CollisionDetection__WEBPACK_IMPORTED_MODULE_8__.CollisionDetectionPlugin());\n    plugins.push(new _Plugins_StandaloneComponent__WEBPACK_IMPORTED_MODULE_9__.StandaloneComponentPlugin());\n    plugins.push(new _Plugins_Renderer__WEBPACK_IMPORTED_MODULE_1__.RendererPlugin(canvas.getContext(\"2d\")));\n    let world = new _Worlds_MyWorld__WEBPACK_IMPORTED_MODULE_0__.MyWorld(...plugins);\n    function tick() {\n        world.tick();\n        requestAnimationFrame(tick);\n    }\n    tick();\n}\nmain(document.getElementById(\"gameCanvas\"), document.getElementById(\"chatInput\"), document.getElementById(\"chat\"));\n\n\n//# sourceURL=webpack://gameengine/./src/index.ts?");

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/******/ // expose the modules object (__webpack_modules__)
/******/ __webpack_require__.m = __webpack_modules__;
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/get javascript chunk filename */
/******/ (() => {
/******/ 	// This function allow to reference async chunks
/******/ 	__webpack_require__.u = (chunkId) => {
/******/ 		// return url for filenames based on template
/******/ 		return "" + chunkId + ".bundle.js";
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/publicPath */
/******/ (() => {
/******/ 	var scriptUrl;
/******/ 	if (typeof import.meta.url === "string") scriptUrl = import.meta.url
/******/ 	// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 	// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 	if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 	scriptUrl = scriptUrl.replace(/^blob:/, "").replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 	__webpack_require__.p = scriptUrl;
/******/ })();
/******/ 
/******/ /* webpack/runtime/import chunk loading */
/******/ (() => {
/******/ 	__webpack_require__.b = new URL("./", import.meta.url);
/******/ 	
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// [resolve, Promise] = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"main": 0
/******/ 	};
/******/ 	
/******/ 	// no install chunk
/******/ 	
/******/ 	// no chunk on demand loading
/******/ 	
/******/ 	// no prefetching
/******/ 	
/******/ 	// no preloaded
/******/ 	
/******/ 	// no external install chunk
/******/ 	
/******/ 	// no on chunks loaded
/******/ })();
/******/ 
/************************************************************************/
/******/ 
/******/ // startup
/******/ // Load entry module and return exports
/******/ // This entry module can't be inlined because the eval devtool is used.
/******/ var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 
